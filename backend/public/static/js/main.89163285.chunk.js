(this.webpackJsonpfunday=this.webpackJsonpfunday||[]).push([[0],{573:function(e,t){},574:function(e,t,a){},575:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(2),r=a.n(c),s=a(54),o=a.n(s),i=a(8),l=a(57),d=a(40),u=a(201),b=a(3),j=null;sessionStorage.user&&(j=JSON.parse(sessionStorage.user));var p={loggedInUser:j,users:[]};var m={isLoading:!1},f=a(9),O={workspaces:[],currWorkspace:{},boards:[],currBoard:{},checkedTasks:[],boardWorkspace:{},conversationLocation:{}};var h={board:{},statusLabelList:[],lastSeen:"177452dcf160.31ce41e0732050000000000000009"};var v=Object(d.c)({system:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOADING_START":return Object(b.a)(Object(b.a)({},e),{},{isLoading:!0});case"LOADING_DONE":return Object(b.a)(Object(b.a)({},e),{},{isLoading:!1});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USER":return Object(b.a)(Object(b.a)({},e),{},{loggedInUser:t.user});case"USER_REMOVE":return Object(b.a)(Object(b.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.userId}))});case"SET_USERS":return Object(b.a)(Object(b.a)({},e),{},{users:t.users});case"UPDATE_USER":case"ADD_FAV_BOARD":case"REMOVE_FAV_BOARD":return Object(b.a)(Object(b.a)({},e),{},{loggedInUser:t.user});default:return e}},workspace:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_WORKSPACES":return Object(b.a)(Object(b.a)({},e),{},{workspaces:t.workspaces});case"UPDATE_CURR_WORKSPACE":return Object(b.a)(Object(b.a)({},e),{},{currWorkspace:t.workspace});case"UPDATE_BOARD_WORKSPACE":return Object(b.a)(Object(b.a)({},e),{},{boardWorkspace:t.workspace});case"ADD_WORKSPACE":var a=[].concat(Object(f.a)(e.workspaces),[t.workspace]);return Object(b.a)(Object(b.a)({},e),{},{workspaces:a,currWorkspace:t.workspace});case"REMOVE_WORKSPACE":return Object(b.a)(Object(b.a)({},e),{},{workspaces:e.workspaces.filter((function(e){return e._id!==t.workspaceId}))});case"UPDATE_WORKSPACE":return Object(b.a)(Object(b.a)({},e),{},{workspaces:e.workspaces.map((function(e){return e._id===t.workspace._id?t.workspace:e}))});case"UPDATE_BOARDS":return Object(b.a)(Object(b.a)({},e),{},{boards:e.currWorkspace.baords.map((function(e){return e._id===t.newBoard._id?t.newBoard:e}))});case"ADD_BOARDS":return Object(b.a)(Object(b.a)({},e),{},{boards:[].concat(Object(f.a)(e.currWorkspace.baords),[t.newBoard])});case"REMOVE_BOARDS":return Object(b.a)(Object(b.a)({},e),{},{boards:e.currWorkspace.baords.filter((function(e){return e._id!==t.newBoard._id}))});case"UPDATE_BOARD":case"SET_BOARD":return Object(b.a)(Object(b.a)({},e),{},{currBoard:t.board});case"ADD_CHECKED_TASK":return Object(b.a)(Object(b.a)({},e),{},{checkedTasks:[].concat(Object(f.a)(e.checkedTasks),[t.currCheckedTask])});case"REMOVE_CHECKED_TASK":return Object(b.a)(Object(b.a)({},e),{},{checkedTasks:e.checkedTasks.filter((function(e){return e._id!==t.taskId}))});case"UPDATE_TASK_CONVERSATION":return Object(b.a)(Object(b.a)({},e),{},{conversationLocation:t.location});default:return e}},board:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOARD":return Object(b.a)(Object(b.a)({},e),{},{board:t.board});case"SET_LAST_SEEN_BOARD":return Object(b.a)(Object(b.a)({},e),{},{lastSeen:t.baordId});case"SET_STATUS_LABLE_LIST":return Object(b.a)(Object(b.a)({},e),{},{statusLabelList:t.statusLabelList});case"ADD_STATUS_LABLE_LIST":var a=[].concat(Object(f.a)(e.statusLabelList),[t.newLabel]);return Object(b.a)(Object(b.a)({},e),{},{statusLabelList:a});case"UPDATE_STATUS_LABLE_LIST":return Object(b.a)(Object(b.a)({},e),{},{statusLabelList:e.statusLabelList.map((function(e){return e._id===t.label._id?t.label:e}))});case"REMOVE_STATUS_LABLE_LIST":return Object(b.a)(Object(b.a)({},e),{},{statusLabelList:e.statusLabelList.filter((function(e){return e._id!==t.labelId}))});default:return e}}}),g=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d,x=Object(d.e)(v,g(Object(d.a)(u.a))),k=a(26),w=a(7),N=a.n(w),C=a(12),y=a(21),S=a(22),T=a(24),B=a(23),_=a(202),E="/api/",L=a.n(_).a.create({withCredentials:!0}),A=function(e,t){return U(e,"GET",t)},D=function(e,t){return U(e,"POST",t)},I=function(e,t){return U(e,"PUT",t)},F=function(e,t){return U(e,"DELETE",t)};function U(e){return M.apply(this,arguments)}function M(){return(M=Object(C.a)(N.a.mark((function e(t){var a,n,c,r=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:"get",n=r.length>2&&void 0!==r[2]?r[2]:null,e.prev=2,e.next=5,L({url:"".concat(E).concat(t),method:a,data:n});case 5:return c=e.sent,e.abrupt("return",c.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(a,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(n)),console.dir(e.t0),e.t0.response&&e.t0.response.status,e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var W={login:P,logout:function(){return V.apply(this,arguments)},signup:function(e){return G.apply(this,arguments)},getUsers:function(){return A("user")},getById:function(e){return A("user/".concat(e))},remove:function(e){return F("user/".concat(e))},update:function(e){return R.apply(this,arguments)},removeFavBoard:function(e,t){return X.apply(this,arguments)},addFavBoard:function(e,t){return q.apply(this,arguments)},loginByGoogle:function(e){return H.apply(this,arguments)},guestLogin:function(){return J.apply(this,arguments)}};function R(){return(R=Object(C.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("user/".concat(t._id),t);case 2:return a=e.sent,e.abrupt("return",z(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return K.apply(this,arguments)}function K(){return(K=Object(C.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("auth/login",t);case 2:if(!(a=e.sent)){e.next=5;break}return e.abrupt("return",z(a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(C.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("auth/signup",t);case 2:return a=e.sent,e.abrupt("return",z(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=Object(C.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=Object(C.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("auth/loginByGoogle",t);case 2:return a=e.sent,e.abrupt("return",z(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}function J(){return(J=Object(C.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P({email:"guest@gmail.com",password:"12345"});case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),console.log("userService: Couldn't login as guest"),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function q(){return(q=Object(C.a)(N.a.mark((function e(t,a){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.favBoards=[a].concat(Object(f.a)(t.favBoards)),e.next=3,I("user/".concat(t._id),t);case 3:return n=e.sent,e.abrupt("return",z(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return(X=Object(C.a)(N.a.mark((function e(t,a){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.favBoards=t.favBoards.filter((function(e){return e!==a})),e.next=3,I("user/".concat(t._id),t);case 3:return n=e.sent,e.abrupt("return",z(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return function(){var e=Object(C.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOADING_START"}),e.next=4,W.getUsers();case 4:a=e.sent,t({type:"SET_USERS",users:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("UserActions: err in loadUsers",e.t0);case 11:return e.prev=11,t({type:"LOADING_DONE"}),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()}function Q(){return function(){var e=Object(C.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.logout();case 2:t({type:"SET_USER",user:null});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Z(){return function(){var e=Object(C.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.guestLogin();case 3:a=e.sent,t({type:"SET_USER",user:a}),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),console.log("userActions: Couldn't login as a guest"),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}function $(e){return function(){var t=Object(C.a)(N.a.mark((function t(a){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.update(e);case 2:n=t.sent,a({type:"UPDATE_USER",user:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function ee(e,t){return e.favBoards.filter((function(e){return e===t})).length>0?function(){var a=Object(C.a)(N.a.mark((function a(n){var c;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,W.removeFavBoard(e,t);case 3:c=a.sent,n({type:"REMOVE_FAV_BOARD",user:c}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log("UserActions: err in removeFavoriteBoard",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}():function(){var a=Object(C.a)(N.a.mark((function a(n){var c;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,W.addFavBoard(e,t);case 3:c=a.sent,n({type:"ADD_FAV_BOARD",user:c}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log("UserActions: err in addFavoriteBoard",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}var te=a(59),ae=a(203),ne=a.n(ae),ce=a(204),re=function(e){Object(T.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).responseGoogle=function(t){var a={email:t.profileObj.email,avatar:t.profileObj.imageUrl,username:t.profileObj.givenName};e.props.loginByGoogle(a),e.props.closeModal(),window.location.assign("/#/boards/")},e}return Object(S.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsx)(ce.GoogleLogin,{clientId:"866960241942-jhfvtsh6b7adl5jae5cth72jlhug4i72.apps.googleusercontent.com",buttonText:"Login With Google",onSuccess:this.responseGoogle,onFailure:this.responseGoogle,cookiePolicy:"single_host_origin"})})}}]),a}(c.Component),se={loginByGoogle:function(e){return function(){var t=Object(C.a)(N.a.mark((function t(a){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.loginByGoogle(e);case 2:n=t.sent,a({type:"SET_USER",user:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},oe=Object(i.b)((function(e){return{users:e.user.users,loggedInUser:e.user.loggedInUser,isLoading:e.system.isLoading}}),se)(re),ie=function(e){Object(T.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={msg:"",loginCred:{email:"",password:""},signupCred:{email:"",password:"",username:""},section:!0},e.loginHandleChange=function(t){var a=t.target,n=a.name,c=a.value;e.setState((function(e){return{loginCred:Object(b.a)(Object(b.a)({},e.loginCred),{},Object(te.a)({},n,c))}}))},e.signupHandleChange=function(t){var a=t.target,n=a.name,c=a.value;e.setState((function(e){return{signupCred:Object(b.a)(Object(b.a)({},e.signupCred),{},Object(te.a)({},n,c))}}))},e.doLogin=function(){var t=Object(C.a)(N.a.mark((function t(a){var n,c,r,s;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state.loginCred,c=n.email,r=n.password,c&&r){t.next=4;break}return t.abrupt("return",e.setState({msg:"Please enter user/password"}));case 4:s={email:c,password:r},e.props.login(s).then((function(t){if(!t)return e.setState({msg:"Invalid email or password"});e.setState({loginCred:{email:"",password:""}}),e.props.closeModal(),window.location.assign("/#/boards/")}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.doSignup=function(){var t=Object(C.a)(N.a.mark((function t(a){var n,c,r,s,o;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state.signupCred,c=n.email,r=n.password,s=n.username,c&&r&&s){t.next=4;break}return t.abrupt("return",e.setState({msg:"All inputs are required!"}));case 4:o={email:c,password:r,username:s},e.props.signup(o),e.setState({signupCred:{email:"",password:"",username:""}}),e.props.closeModal(),window.location.assign("/#/boards/");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.removeUser=function(t){e.props.removeUser(t)},e.onSignup=function(){e.setState({section:!e.state.section})},e}return Object(S.a)(a,[{key:"render",value:function(){var e=Object(n.jsxs)("form",{onSubmit:this.doSignup,className:"signup-container",children:[Object(n.jsx)("input",{className:"login-input",type:"text",name:"email",value:this.state.signupCred.email,onChange:this.signupHandleChange,placeholder:"Email"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{className:"login-input",name:"password",type:"password",value:this.state.signupCred.password,onChange:this.signupHandleChange,placeholder:"Password"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{className:"login-input",type:"text",name:"username",value:this.state.signupCred.username,onChange:this.signupHandleChange,placeholder:"Username",maxLength:"10"}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{className:"login-btn",children:"Signup"})]}),t=Object(n.jsxs)("form",{onSubmit:this.doLogin,className:"login-container",children:[Object(n.jsx)("input",{className:"login-input",type:"text",name:"email",value:this.state.loginCred.email,onChange:this.loginHandleChange,placeholder:"Email"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{className:"login-input",type:"password",name:"password",value:this.state.loginCred.password,onChange:this.loginHandleChange,placeholder:"Password"}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{className:"login-btn",children:"Login"})]}),a=this.props.loggedInUser;return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(ne.a,{canvasClassName:"example",params:{particles:{number:{value:160,density:{enable:!1}},size:{value:3,random:!0,anim:{speed:4,size_min:.3}},line_linked:{enable:!1},move:{random:!0,speed:1,direction:"top",out_mode:"out"}},interactivity:{events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"}},modes:{bubble:{distance:250,duration:2,size:0,opacity:0},repulse:{distance:400,duration:4}}}}}),Object(n.jsxs)("div",{className:"login-page",children:[Object(n.jsx)("button",{className:"close-modal",onClick:this.props.closeModal,children:"x"}),Object(n.jsx)("h1",{className:"login-title",children:Object(n.jsxs)("div",{className:"welcome-txt ".concat(this.props.addFavMovieTxt?"hide-txt":""),children:[Object(n.jsx)("div",{children:"Welcome"}),Object(n.jsx)("div",{className:"welcome-txt2",children:"Sign in with your email address"})]})}),Object(n.jsx)("h2",{className:"mag",children:this.state.msg}),Object(n.jsxs)("div",{className:"auth-form",children:[!a&&this.state.section?t:e,Object(n.jsxs)("div",{className:"login-txt",children:["".concat(this.state.section?"DON'T HAVE ACCOUNT YET?":"")," "]}),Object(n.jsx)("div",{className:"google-oauth",children:Object(n.jsx)(oe,{className:"google-oauth-btn",closeModal:this.props.closeModal})}),Object(n.jsx)("div",{className:"login-txt-btn",onClick:this.onSignup,children:"".concat(this.state.section?"Signup Here":"Go Back")})]}),Object(n.jsx)("hr",{})]})]})}}]),a}(c.Component),le={login:function(e){return function(){var t=Object(C.a)(N.a.mark((function t(a){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.login(e);case 3:return n=t.sent,a({type:"SET_USER",user:n}),t.abrupt("return",n);case 8:t.prev=8,t.t0=t.catch(0),console.log("UserActions: err in login",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},logout:Q,signup:function(e){return function(){var t=Object(C.a)(N.a.mark((function t(a){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.signup(e);case 2:n=t.sent,a({type:"SET_USER",user:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},removeUser:function(e){return function(){var t=Object(C.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.remove(e);case 3:a({type:"USER_REMOVE",userId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("UserActions: err in removeUser",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},loadUsers:Y,guestLogin:Z},de=Object(i.b)((function(e){return{users:e.user.users,loggedInUser:e.user.loggedInUser,isLoading:e.system.isLoading}}),le)(ie),ue=function(e){Object(T.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={isShown:!0},e.closeModal=function(){e.setState({isShown:!1}),e.props.onOpenModal()},e}return Object(S.a)(a,[{key:"render",value:function(){var e=this.state.isShown;return Object(n.jsx)("div",{className:"modal-wrapper ".concat(e?"":"hide"),onClick:this.closeModal,children:Object(n.jsx)("div",{className:"login-modal-content",onClick:function(e){return e.stopPropagation()},children:Object(n.jsx)(de,{closeModal:this.closeModal})})})}}]),a}(r.a.Component),be=function(e){Object(T.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={showComponent:!1},e.onOpenModal=function(){e.setState({showComponent:!e.state.showComponent})},e.logout=function(){"/boards"===e.props.history.location.pathname?(e.props.history.push("/"),e.props.logout()):e.props.logout()},e.onGuestLogin=Object(C.a)(N.a.mark((function t(){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.guestLogin();case 2:window.location.assign("/#/boards/");case 3:case"end":return t.stop()}}),t)}))),e}return Object(S.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"home-page",children:[Object(n.jsxs)("div",{className:"login-btn",children:[!this.props.loggedInUser&&Object(n.jsx)("div",{className:"user-login  after-canvas",onClick:this.onOpenModal,children:"Log in"}),this.props.loggedInUser&&Object(n.jsxs)("div",{className:"user-name",children:["Hello ",this.props.loggedInUser.username]}),this.props.loggedInUser&&Object(n.jsx)("div",{id:"logout-btn",onClick:this.logout,children:"Logout"})]}),!this.props.loggedInUser&&Object(n.jsx)("div",{className:"login-btn",children:Object(n.jsx)("div",{className:"user-login  after-canvas",onClick:this.onGuestLogin,children:"Try as a guest"})}),this.state.showComponent&&Object(n.jsx)(ue,{onOpenModal:this.onOpenModal})]})}}]),a}(c.Component),je={logout:Q,guestLogin:Z},pe=Object(i.b)((function(e){return{loggedInUser:e.user.loggedInUser,users:e.user.users}}),je)(Object(k.g)(be)),me=function(e){Object(T.a)(a,e);var t=Object(B.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{children:"about"})}}]),a}(c.Component),fe=a(4),Oe=a(27),he=a(31),ve=["#f368e0","#FC427B","#e84118","#ff6b6b","#ff9f43","#f3a683","#feca57","#fbc531","#4cd137","#1dd1a1","#01a3a4","#48dbfb","#54a0ff","#00a8ff","#487eb0","#273c75","#3B3B98","#341f97","#5f27cd","#9c88ff","#D6A2E8"],ge=["A","B","C","D","R","T","U","I","O","P","L","Q","Z","E","V","M","N","G","J","H"];function xe(e){var t=e.setIsShown,a=e.addNewWorkspace,r=Object(c.useState)("New Workspace"),s=Object(fe.a)(r,2),o=s[0],i=s[1],l=Object(c.useState)("#f368e0"),d=Object(fe.a)(l,2),u=d[0],b=d[1],j=Object(c.useState)("M"),p=Object(fe.a)(j,2),m=p[0],f=p[1],O=Object(c.useState)(!1),h=Object(fe.a)(O,2),v=h[0],g=h[1],x=Object(c.useRef)();Object(c.useEffect)((function(){setTimeout((function(){x.current.focus()}),0)}),[]);return Object(n.jsxs)("div",{className:"create-workspace create-item-wrapper",children:[Object(n.jsx)("div",{className:"create-item-title",children:"Create Workspace"}),Object(n.jsxs)("div",{className:"workspace-icon",style:{backgroundColor:"".concat(u)},onClick:function(){g(!0)},tabIndex:"0",onBlur:function(){g(!1)},children:[m,!v&&Object(n.jsxs)("div",{className:"workspace-icon-edit",children:[Object(n.jsx)("div",{children:Object(n.jsx)(Oe.c,{className:"workspace-edit-pencil"})}),Object(n.jsx)("div",{children:"Edit"})]}),v&&Object(n.jsxs)("div",{className:" modal-default-style workspace-icon-modal",children:[Object(n.jsx)("div",{className:"small-font",children:"Background color"}),Object(n.jsx)("div",{className:"workspace-color-picker",children:ve.map((function(e){return Object(n.jsx)("div",{className:"workspace-color",style:{backgroundColor:"".concat(e)},onClick:function(){return b(e)},children:u===e&&Object(n.jsx)(he.b,{})})}))}),Object(n.jsx)("div",{className:"small-font",children:"Icon"}),Object(n.jsx)("div",{className:"icon-picker",children:ge.map((function(e){return Object(n.jsx)("div",{className:"icon",style:{backgroundColor:"".concat(u)},onClick:function(){return f(e)},children:e})}))})]})]}),Object(n.jsx)("div",{className:"workspace-name small-font",children:"Workspace name"}),Object(n.jsx)("input",{className:"new-item-input",type:"text",value:o,onChange:function(e){i(e.target.value)},onFocus:function(){setTimeout((function(){document.execCommand("selectAll",!1,null)}),0)},ref:x,onKeyDown:function(e){if("Enter"===e.key){if(o.length<1)return;a(o,u,m),t(!1)}}}),Object(n.jsxs)("div",{className:"btns-container",children:[Object(n.jsx)("div",{className:"cancel-btn",onClick:function(){t(!1)},children:"Cancel"}),Object(n.jsx)("div",{className:"add-btn",onClick:function(){o.length<1||(a(o,u,m),t(!1))},children:"Create Workspace"})]})]})}var ke=a(32);function we(e){var t=e.setIsShown,a=e.children;return Object(n.jsx)("div",{className:"modal-wrapper",children:Object(n.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(n.jsx)("div",{className:"close-popup-modal",onClick:function(){t(!1)},children:Object(n.jsx)(ke.c,{className:"icon"})}),a]})})}var Ne=a(30),Ce=a(43),ye=a(48);function Se(e){var t=e.workspace,a=Object(i.c)(),r=Object(i.d)((function(e){return e.user.loggedInUser})),s=Object(c.useState)(r.pinnedWorkspaces.includes(t._id)),o=Object(fe.a)(s,2),l=o[0],d=o[1];function u(e){l?function(e){var t=Object(b.a)(Object(b.a)({},r),{},{pinnedWorkspaces:r.pinnedWorkspaces.filter((function(t){return t!==e}))});a($(t))}(e):function(e){var t=Object(b.a)(Object(b.a)({},r),{},{pinnedWorkspaces:[].concat(Object(f.a)(r.pinnedWorkspaces),[e])});a($(t))}(e)}return Object(c.useEffect)((function(){d(r.pinnedWorkspaces.includes(t._id))}),[t,r.pinnedWorkspaces.length]),Object(n.jsx)("input",{type:"checkbox",className:"checkbox",defaultChecked:l,onChange:function(){return u(t._id)}})}function Te(e){var t=e.onMoveObject,a=e.object,r=e.isCheckbox,s=e.search,o=e.setSearch,l=Object(i.d)((function(e){return e.workspace.workspaces})),d=Object(i.d)((function(e){return e.workspace.currWorkspace})),u=Object(c.useState)("insideFolder"===a?l:l.filter((function(e){return e._id!==d._id}))),b=Object(fe.a)(u,2),j=b[0],p=b[1];return Object(c.useEffect)((function(){p("insideFolder"===a||r?l:l.filter((function(e){return e._id!==d._id})))}),[d,l,a,r]),Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"search",placeholder:"Search Workspace",className:"forward-modal-search-input",onChange:function(e){return o(e.target.value)}}),j.map((function(e){return e.name.toLowerCase().includes(s.toLowerCase())?Object(n.jsxs)("div",{className:"modal-btn item-actions-btn forward-modal-btn ".concat(r?"remove-pointer":""),onClick:function(){r||t(e)},children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"workspace-icon",style:{backgroundColor:e.color},children:e.img}),Object(n.jsx)("span",{className:"workspace-name",children:e.name})]}),r&&Object(n.jsx)(Se,{workspace:e})]},e._id):null}))]})}function Be(e){var t=e.children,a=e.btn,r=e.setMoveToObject,s=e.isFolderModal,o=e.toggleShownForwardModal,i=e.isWorkspaceIconPicker,l=e.itemList,d=e.moveToObject,u=e.setSearch,b=Object(c.useState)(!1),j=Object(fe.a)(b,2),p=j[0],m=j[1];return Object(c.useEffect)((function(){o(p)}),[p,o]),Object(n.jsxs)("div",{className:"forward-modal-btn-wrapper",onMouseOver:function(){return m(!0)},onMouseLeave:function(){m(!1),s&&r(null),(l||d)&&u("")},children:[Object(n.jsxs)("div",{className:"modal-btn item-actions-btn forward-modal-btn ".concat(p?"open-modal":""," "),children:[a,Object(n.jsx)(Ne.d,{className:"icon"})]}),p&&Object(n.jsx)("div",{className:"modal-default-style ".concat(i?"menu-icon-picker":"forward-modal","\n                   ").concat(l||d?"items-list":"","\n                   "),children:t})]})}function _e(e){var t=e.setIsShown,a=e.setIsOpenToolbarOptionsModal,r=e.toggleShownForwardModal,s=e.onSortWorkspces,o=e.isSorted,i=Object(c.useState)(""),l=Object(fe.a)(i,2),d=l[0],u=l[1];return Object(n.jsxs)("div",{className:"modal-default-style item-actions-modal toolbar-options-modal",children:[Object(n.jsxs)("div",{className:"modal-btn item-actions-btn",onMouseDown:function(){t(!0),a(!1)},children:[Object(n.jsx)(Ne.a,{className:"icon"}),Object(n.jsx)("span",{children:"Add new workspace"})]}),Object(n.jsxs)(Be,{btn:Object(n.jsxs)("div",{children:[Object(n.jsx)(Ce.a,{className:"icon"}),Object(n.jsx)("span",{children:"Pin workspaces"})]}),toggleShownForwardModal:r,itemList:!0,setSearch:u,children:[Object(n.jsx)("div",{className:"pin-workspace-title",children:"Choose Workspace to pin on menu"}),Object(n.jsx)(Te,{isCheckbox:!0,search:d,setSearch:u})]}),Object(n.jsxs)("div",{className:"modal-btn item-actions-btn",onMouseDown:function(){s(),a(!1)},children:[Object(n.jsx)(ye.e,{className:"icon"}),Object(n.jsxs)("span",{children:["Sort by ","".concat(o?"default":"alphabetical")," order"]})]})]})}function Ee(e){var t=e.BsLightning,a=e.BsStar,r=e.BsThreeDots,s=e.onGettingCurrentWorkspace,o=e.addNewWorkspace,l=e.onSetToolbarMenu,d=Object(i.d)((function(e){return e.workspace.workspaces})),u=Object(i.d)((function(e){return e.user.loggedInUser})),b=Object(c.useState)(d.filter((function(e){return u.pinnedWorkspaces.includes(e._id)}))),j=Object(fe.a)(b,2),p=j[0],m=j[1],O=Object(i.d)((function(e){return e.workspace.currWorkspace})),h=Object(c.useState)(O._id),v=Object(fe.a)(h,2),g=v[0],x=v[1],k=Object(c.useState)(),w=Object(fe.a)(k,2),N=w[0],C=w[1],y=Object(c.useState)(!1),S=Object(fe.a)(y,2),T=S[0],B=S[1],_=Object(c.useState)(!1),E=Object(fe.a)(_,2),L=E[0],A=E[1],D=Object(c.useState)(!1),I=Object(fe.a)(D,2),F=I[0],U=I[1],M=Object(c.useRef)(),W=Object(c.useState)(!1),R=Object(fe.a)(W,2),P=R[0],K=R[1],G=Object(c.useState)(!1),V=Object(fe.a)(G,2),H=V[0],z=V[1];Object(c.useEffect)((function(){m(d.filter((function(e){return u.pinnedWorkspaces.includes(e._id)})))}),[u,u.pinnedWorkspaces,d]),Object(c.useEffect)((function(){x(O._id)}),[O,p]),Object(c.useEffect)((function(){C(g),l(g)}),[g,l]),Object(c.useEffect)((function(){F||setTimeout((function(){M&&M.current&&M.current.focus()}),0)}),[F]);return Object(c.useEffect)((function(){if(P){var e=Object(f.a)(p);e.sort((function(e,t){return e.name.localeCompare(t.name)})),z(e)}else z(p)}),[P,p]),H?Object(n.jsxs)("div",{className:"board-toolbar",children:[Object(n.jsxs)("div",{className:"board-first-area",children:[Object(n.jsxs)("div",{className:"icon-wrapper",children:[Object(n.jsx)(t,{className:"tollbar-icon ".concat("lightning"===N?"selected":""),onClick:function(){return x("lightning")}}),Object(n.jsx)("span",{className:"label-text",children:"Quick Search"})]}),Object(n.jsxs)("div",{className:"icon-wrapper",children:[Object(n.jsx)(a,{className:"tollbar-icon ".concat("favorite"===N?"selected":""),onClick:function(){return x("favorite")}}),Object(n.jsx)("span",{className:"label-text",children:"Favorite boards"})]}),H.map((function(e,t){return Object(n.jsx)("div",{className:"workspace-wrapper ".concat(N===e._id?"selected":""),onClick:function(){return x(e._id)},children:Object(n.jsx)("div",{className:"workspace-icon",onClick:function(){return s(e)},style:{backgroundColor:e.color},children:e.img})},e._id)}))]}),Object(n.jsxs)("div",{className:"board-second-area",children:[Object(n.jsx)("div",{className:"icon-wrapper",tabIndex:"0",onClick:function(){A((function(e){return!e}))},onBlur:function(){A(F)},ref:M,children:Object(n.jsx)(r,{className:"tollbar-icon ".concat(L?"selected":"")})}),L&&Object(n.jsx)(_e,{setIsOpenToolbarOptionsModal:A,setIsShown:B,toggleShownForwardModal:function(e){U(e)},onSortWorkspces:function(){K((function(e){return!e}))},isSorted:P})]}),T&&Object(n.jsx)(we,{setIsShown:B,children:Object(n.jsx)(xe,{setIsShown:B,addNewWorkspace:o})})]}):Object(n.jsx)("div",{children:"Loading...."})}var Le=a(14),Ae=a(25),De={query:Ie,getById:function(e){return A("workspace/".concat(e))},save:function(e){return I("workspace/".concat(e._id),e)},remove:function(e){return F("workspace/".concat(e))},add:function(e){return Fe.apply(this,arguments)},addLabel:function(e){var t=Me();return t=[].concat(Object(f.a)(t),[e])},editLabel:function(e){var t=Me();return t.map((function(t){return t._id===e._id?e:t})),t},removeLabel:function(e){var t=Me();return t=t.filter((function(t){return t._id!==e}))}};function Ie(e){return A("workspace")}function Fe(){return(Fe=Object(C.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("workspace",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(){return(Ue=Object(C.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie();case 2:return t=e.sent,e.next=5,t.map((function(e){return e.boards.filter((function(e){return!0===e.isLastSeen}))}))[0];case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(){return function(){return Ue.apply(this,arguments)}().statusLabelList}function We(e){return function(){var t=Object(C.a)(N.a.mark((function t(a){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"LOADING_START"}),t.next=4,De.query(e);case 4:n=t.sent,a({type:"SET_WORKSPACES",workspaces:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("WorkspaceActions: err in loadWorkspaces",t.t0);case 11:return t.prev=11,a({type:"LOADING_DONE"}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()}function Re(e){return function(){var t=Object(C.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,De.save(e);case 3:a({type:"UPDATE_WORKSPACE",workspace:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("WorkspaceActions: err in updateWorkspace",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}function Pe(e){return function(){var t=Object(C.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:"UPDATE_CURR_WORKSPACE",workspace:e})}catch(n){console.log("WorkspaceActions: err in updateCurrWorkspace",n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Ke(e){return function(){var t=Object(C.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:"UPDATE_TASK_CONVERSATION",location:e})}catch(n){console.log("WorkspaceActions: err in updateTaskConversation",n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Ge(e){return function(){var t=Object(C.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:"UPDATE_BOARD",board:e})}catch(n){console.log("WorkspaceActions: err in UPDATE_BOARD",n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Ve(e){var t=e.onMoveBoardToFolder,a=e.search,c=e.setSearch,r=Object(i.d)((function(e){return e.workspace.workspaces}));return Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"search",placeholder:"Search Folder",className:"forward-modal-search-input",onChange:function(e){return c(e.target.value)}}),r.map((function(e){return e.folders.map((function(c){return c.name.toLowerCase().includes(a.toLowerCase())?Object(n.jsxs)("div",{className:"modal-btn \r item-actions-btn\r ",onClick:function(){return t(e,c)},children:[Object(n.jsx)(Oe.e,{className:"icon"}),Object(n.jsx)("span",{children:c.name})]},c._id):null}))}))]})}function He(e){var t=e.board,a=e.onGettingCurrentBoard,r=e.CgViewComfortable,s=e.removeBoard,o=e.editBoard,l=e.moveBoard,d=e.moveBoardToFolder,u=e.object,j=e.scroll,p=e.cmp,m=e.onEditBoard,O=Object(i.d)((function(e){return e.workspace.workspaces})),h=Object(i.d)((function(e){return e.workspace.currBoard})),v=Object(i.d)((function(e){return e.user.loggedInUser})),g=Object(c.useState)(null),x=Object(fe.a)(g,2),k=x[0],w=x[1],y=Object(c.useState)(null),S=Object(fe.a)(y,2),T=(S[0],S[1]),B=Object(c.useRef)(null),_=Object(c.useState)(""),E=Object(fe.a)(_,2),L=E[0],A=E[1],D=Object(i.c)(),I=function(){var e,a=null;O.forEach((function(e){return e.boards.forEach((function(n){n._id===t._id&&(a=e)}))})),a||O.forEach((function(e){return e.folders.forEach((function(n){return n.boards.forEach((function(n){n._id===t._id&&(a=e)}))}))})),T(a),D((e=a,function(){var t=Object(C.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:"UPDATE_BOARD_WORKSPACE",workspace:e})}catch(n){console.log("WorkspaceActions: err in updateBoardWorkspace",n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))};Object(c.useEffect)((function(){w(B&&B.current?B.current.getBoundingClientRect().bottom>500?Object(b.a)(Object(b.a)({},B.current.getBoundingClientRect()),{},{bottom:B.current.getBoundingClientRect().bottom-191}):B.current.getBoundingClientRect():{})}),[j]),Object(c.useEffect)((function(){J(t.name)}),[t]);var F=Object(c.useState)(!1),U=Object(fe.a)(F,2),M=U[0],W=U[1],R=Object(c.useState)(!1),P=Object(fe.a)(R,2),K=P[0],G=P[1],V=Object(c.useState)(t.name),H=Object(fe.a)(V,2),z=H[0],J=H[1],q=Object(c.useState)(null),X=Object(fe.a)(q,2),Y=X[0],Q=X[1],Z=Object(c.useRef)(),$=Object(c.useState)(!1),te=Object(fe.a)($,2),ae=te[0],ne=te[1];Object(c.useEffect)((function(){ae||setTimeout((function(){B&&B.current&&B.current.focus()}),0)}),[ae]);return t?Object(n.jsxs)("div",{className:"board-wrapper \n    ".concat(M?"open-modal":""," \n    ").concat(K?"updating-style":"","\n    ").concat(h._id===t._id?"active":"","\n    "),onClick:function(){return a(t)},tabIndex:"0",onBlur:function(){W(ae)},ref:B,children:[Object(n.jsxs)("div",{className:"name-wrapper",children:[Object(n.jsx)(r,{className:"icon ".concat(K?"updating-style":"")}),K?Object(n.jsx)("input",{className:"update-board-name-input",type:"text",value:z,onChange:function(e){J(e.target.value)},ref:Z,onBlur:function(){G(!1),function(){var e=Object(b.a)(Object(b.a)({},t),{},{name:z});D(Ge(e)),o(e)}()},onKeyDown:function(e){"Enter"===e.key&&e.target.blur()}}):Object(n.jsx)("span",{title:z.length>14?z:"",className:"".concat(z.length>14?"ellipsis-board-name":""),children:z})]}),Object(n.jsx)(Le.p,{className:"BsThreeDots ".concat(K?"hide":""),onClick:function(e){I(),B.current.getBoundingClientRect().bottom>500?w(Object(b.a)(Object(b.a)({},B.current.getBoundingClientRect()),{},{bottom:B.current.getBoundingClientRect().bottom-191})):B.current.getBoundingClientRect().bottom<250?w(p?Object(b.a)(Object(b.a)({},B.current.getBoundingClientRect()),{},{bottom:B.current.getBoundingClientRect().bottom+5+181}):Object(b.a)(Object(b.a)({},B.current.getBoundingClientRect()),{},{bottom:B.current.getBoundingClientRect().bottom+2})):w(B.current.getBoundingClientRect()),function(e){e.stopPropagation(),W((function(e){return!e}))}(e),console.log(B.current.getBoundingClientRect())}}),M&&Object(n.jsxs)("div",{className:"modal-default-style item-actions-modal board-modal-wrapper",style:{top:"".concat(k?k.bottom-181:0,"px")},children:[Object(n.jsxs)("div",{className:"modal-btn item-actions-btn",onClick:function(){W(!1),G(!0),setTimeout((function(){Z.current.focus()}),0)},children:[Object(n.jsx)(Le.h,{className:"icon"}),Object(n.jsx)("span",{children:"Rename Board"})]}),Object(n.jsxs)("div",{className:"modal-btn item-actions-btn",onClick:function(){D(ee(v,t._id));var e="".concat(v.favBoards.includes(t._id)?"added board to ":"removed board from ","favorites"),a=Object(b.a)(Object(b.a)({},t),{},{activities:[{desc:e,userId:v._id,createdAt:Date.now()}].concat(Object(f.a)(t.activities))});m(a),Ge(a),W(!1)},children:[Object(n.jsx)(Ae.j,{className:"icon"}),v.favBoards.includes(t._id)?Object(n.jsx)("span",{children:"Remove from favorites"}):Object(n.jsx)("span",{children:"Add to favorites"})]}),Object(n.jsxs)(Be,{btn:Object(n.jsxs)("div",{children:[Object(n.jsx)(ke.a,{className:"icon"}),Object(n.jsx)("span",{children:"Move To"})]}),setMoveToObject:Q,isFolderModal:!0,toggleShownForwardModal:function(e){ne(e)},moveToObject:Y,setSearch:A,children:[!Y&&Object(n.jsxs)("div",{className:"modal-btn item-actions-btn forward-modal-btn",onClick:function(){Q("Folder")},children:[Object(n.jsx)(ke.a,{className:"icon"}),Object(n.jsx)("span",{children:"Move To Folder"})]}),!Y&&Object(n.jsxs)("div",{className:"modal-btn item-actions-btn",onClick:function(){Q("Workspace")},children:[Object(n.jsx)(ke.a,{className:"icon"}),Object(n.jsx)("span",{children:"Move To Workspace"})]}),Y&&Object(n.jsx)("div",{children:Object(n.jsxs)("div",{onClick:function(){Q(null)},className:"forward-modal-title",children:[Object(n.jsxs)("div",{children:["Choose ",Y]}),Object(n.jsx)("div",{className:"modal-btn item-actions-btn",children:"back"})]})}),"Workspace"===Y&&Object(n.jsx)(Te,{onMoveObject:function(e){l(e,t),W(!1)},object:u,search:L,setSearch:A}),"Folder"===Y&&Object(n.jsx)(Ve,{onMoveBoardToFolder:function(e,a){d(e,a,t),W(!1)},search:L,setSearch:A})]}),Object(n.jsx)("div",{className:"delete-btn-wrapper",children:Object(n.jsxs)("div",{className:"modal-btn item-actions-btn",onClick:function(){s(t._id),W(!1)},children:[Object(n.jsx)(Ce.b,{className:"icon"}),Object(n.jsx)("span",{children:"Delete"})]})})]})]}):Object(n.jsx)("div",{children:"Loading..."})}function ze(e){var t=e.boards,a=e.onGettingCurrentBoard,c=e.CgViewComfortable,r=e.removeBoard,s=e.editBoard,o=e.moveBoard,i=e.moveBoardToFolder,l=e.object,d=e.scroll,u=e.cmp,b=e.onEditBoard;return t?Object(n.jsx)(n.Fragment,{children:t.map((function(e,t){return Object(n.jsx)(He,{board:e,onGettingCurrentBoard:a,CgViewComfortable:c,BsThreeDots:Le.p,removeBoard:r,editBoard:s,moveBoard:o,moveBoardToFolder:i,object:l,scroll:d,cmp:u,onEditBoard:b})}))}):Object(n.jsx)("div",{children:"Loading..."})}function Je(e){var t=e.setIsShown,a=e.addNewBoard,r=Object(c.useState)("New Board"),s=Object(fe.a)(r,2),o=s[0],i=s[1],l=Object(c.useRef)();Object(c.useEffect)((function(){setTimeout((function(){l.current.focus()}),0)}),[]);return Object(n.jsxs)("div",{className:"create-item-wrapper",children:[Object(n.jsx)("div",{className:"create-item-title",children:"Create board"}),Object(n.jsx)("input",{className:"new-item-input",type:"text",value:o,onChange:function(e){i(e.target.value)},onFocus:function(){setTimeout((function(){document.execCommand("selectAll",!1,null)}),0)},ref:l,onKeyDown:function(e){if("Enter"===e.key){if(o.length<1)return;a(o),t(!1)}}}),Object(n.jsxs)("div",{className:"btns-container",children:[Object(n.jsx)("div",{className:"cancel-btn",onClick:function(){t(!1)},children:"Cancel"}),Object(n.jsx)("div",{className:"add-btn",onClick:function(){o.length<1||(a(o),t(!1))},children:"Create Board"})]})]})}function qe(e){var t=e.folder,a=e.IoMdArrowDropdown,r=e.CgViewComfortable,s=e.onGettingCurrentBoard,o=e.addBoardInFolder,i=e.removeFolder,l=e.updateFolder,d=e.removeBoard,u=e.editBoard,j=e.moveFolder,p=e.moveBoard,m=e.moveBoardToFolder,f=e.scroll,O=e.index,h=e.isNewFolderCreated,v=e.onEndNewFolderUpdating,g=e.folders,x=e.onEditBoard,k=Object(c.useState)(!1),w=Object(fe.a)(k,2),N=w[0],C=w[1],y=Object(c.useState)(!1),S=Object(fe.a)(y,2),T=S[0],B=S[1],_=Object(c.useState)(!1),E=Object(fe.a)(_,2),L=(E[0],E[1],Object(c.useState)(!1)),A=Object(fe.a)(L,2),D=A[0],I=A[1],F=Object(c.useState)(t.name),U=Object(fe.a)(F,2),M=U[0],W=U[1],R=Object(c.useState)(!1),P=Object(fe.a)(R,2),K=P[0],G=P[1],V=Object(c.useRef)(),H=Object(c.useState)(null),z=Object(fe.a)(H,2),J=z[0],q=z[1],X=Object(c.useRef)(null),Y=Object(c.useState)(!1),Q=Object(fe.a)(Y,2),Z=Q[0],$=Q[1],ee=Object(c.useState)(""),te=Object(fe.a)(ee,2),ae=te[0],ne=te[1];Object(c.useEffect)((function(){O===g.length-1&&h&&(I(!0),setTimeout((function(){V.current.focus()}),0))}),[O,g.length,h]),Object(c.useEffect)((function(){q(X&&X.current?X.current.getBoundingClientRect().bottom>500?Object(b.a)(Object(b.a)({},X.current.getBoundingClientRect()),{},{bottom:X.current.getBoundingClientRect().bottom-191}):X.current.getBoundingClientRect():{})}),[f]),Object(c.useEffect)((function(){W(t.name)}),[t]);Object(c.useEffect)((function(){Z||setTimeout((function(){X&&X.current&&X.current.focus()}),0)}),[Z]);return t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"\n                folder-wrapper \n                ".concat(T?"open-modal":""," \n                ").concat(D?"updating-style":""),tabIndex:h?null:0,onBlur:function(){B(Z)},ref:X,children:[Object(n.jsxs)("div",{onClick:function(){C((function(e){return!e}))},className:"name-wrapper",children:[N?Object(n.jsx)(a,{className:"icon ".concat(D?"updating-style":"")}):Object(n.jsx)(Ne.g,{className:"icon ".concat(D?"updating-style":"")}),D?Object(n.jsx)("input",{className:"update-folder-name-input",type:"text",value:M,onChange:function(e){W(e.target.value)},ref:V,onBlur:function(){I(!1),function(){var e=Object(b.a)(Object(b.a)({},t),{},{name:M});l(e)}(),v()},onKeyDown:function(e){"Enter"===e.key&&e.target.blur()}}):Object(n.jsx)("span",{title:M.length>14?M:"",className:"".concat(M.length>14?"ellipsis-folder-name":""),children:M})]}),Object(n.jsx)(Le.p,{className:"BsThreeDots ".concat(D?"hide":""),onClick:function(e){X.current.getBoundingClientRect().bottom>500?q(Object(b.a)(Object(b.a)({},X.current.getBoundingClientRect()),{},{bottom:X.current.getBoundingClientRect().bottom-191})):q(X.current.getBoundingClientRect()),function(e){e.stopPropagation(),B((function(e){return!e}))}(e)}}),T&&Object(n.jsxs)("div",{className:"modal-default-style item-actions-modal folder-modal-wrapper ",style:{top:"".concat(J?J.bottom-181:0,"px")},children:[Object(n.jsxs)("div",{className:"modal-btn item-actions-btn",onClick:function(){G(!0),B(!1)},children:[Object(n.jsx)(r,{className:"icon"}),Object(n.jsx)("span",{children:"Create board in folder"})]}),Object(n.jsxs)("div",{className:"modal-btn item-actions-btn",onClick:function(){B(!1),I(!0),setTimeout((function(){V.current.focus()}),0)},children:[Object(n.jsx)(Le.h,{className:"icon"}),Object(n.jsx)("span",{children:"Rename folder"})]}),Object(n.jsx)(Be,{btn:Object(n.jsxs)("div",{children:[Object(n.jsx)(ke.a,{className:"icon"}),Object(n.jsx)("span",{children:"Move To Workspace"})]}),toggleShownForwardModal:function(e){$(e)},itemList:!0,setSearch:ne,children:Object(n.jsx)(Te,{onMoveObject:function(e){j(e,t),B(!1)},search:ae,setSearch:ne})}),Object(n.jsx)("div",{className:"delete-btn-wrapper",children:Object(n.jsxs)("div",{className:"modal-btn item-actions-btn",onClick:function(){i(t._id),B(!1)},children:[Object(n.jsx)(Ce.b,{className:"icon"}),Object(n.jsx)("span",{children:"Delete folder"})]})})]})]}),N&&Object(n.jsx)("div",{className:"folder-dropdown",children:t.boards.length>0&&Object(n.jsx)(ze,{boards:t.boards,onGettingCurrentBoard:s,CgViewComfortable:r,removeBoard:d,editBoard:u,moveBoard:p,moveBoardToFolder:m,object:"insideFolder",scroll:f,onEditBoard:x})},t._id)]},t._id),K&&Object(n.jsx)(we,{setIsShown:G,children:Object(n.jsx)(Je,{addNewBoard:function(e){o(t,e)},setIsShown:G})})]}):Object(n.jsx)("div",{children:"Loading..."})}function Xe(e){var t=e.folders,a=e.IoMdArrowDropdown,c=e.CgViewComfortable,r=e.onGettingCurrentBoard,s=e.addBoardInFolder,o=e.removeFolder,i=e.updateFolder,l=e.removeBoard,d=e.editBoard,u=e.moveFolder,b=e.moveBoard,j=e.moveBoardToFolder,p=e.scroll,m=e.isNewFolderCreated,f=e.onEndNewFolderUpdating,O=e.onEditBoard;return t?Object(n.jsx)(n.Fragment,{children:t.map((function(e,h){return Object(n.jsx)(qe,{folder:e,folders:t,IoMdArrowDropdown:a,CgViewComfortable:c,onGettingCurrentBoard:r,addBoardInFolder:s,removeFolder:o,updateFolder:i,removeBoard:l,editBoard:d,moveFolder:u,moveBoard:b,moveBoardToFolder:j,scroll:p,index:h,isNewFolderCreated:m,onEndNewFolderUpdating:f,onEditBoard:O})}))}):Object(n.jsx)("div",{children:"Loading..."})}var Ye=a(49);function Qe(e){var t=e.updateWorkspace,a=Object(i.d)((function(e){return e.workspace.currWorkspace})),r=Object(c.useState)(a.color),s=Object(fe.a)(r,2),o=s[0],l=s[1],d=Object(c.useState)(a.img),u=Object(fe.a)(d,2),j=u[0],p=u[1];return Object(c.useEffect)((function(){l(a.color),p(a.img)}),[a]),Object(c.useEffect)((function(){if(o!==a.color){var e=Object(b.a)(Object(b.a)({},a),{},{color:o});t(e)}}),[o,t,a]),Object(c.useEffect)((function(){if(j!==a.img){var e=Object(b.a)(Object(b.a)({},a),{},{img:j});t(e)}}),[j,t,a]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"small-font",children:"Background color"}),Object(n.jsx)("div",{className:"workspace-color-picker",children:ve.map((function(e){return Object(n.jsx)("div",{className:"workspace-color",style:{backgroundColor:"".concat(e)},onClick:function(){return l(e)},children:o===e&&Object(n.jsx)(he.b,{})})}))}),Object(n.jsx)("div",{className:"small-font",children:"Icon"}),Object(n.jsx)("div",{className:"icon-picker",children:ge.map((function(e){return Object(n.jsx)("div",{className:"icon",style:{backgroundColor:"".concat(o)},onClick:function(){return p(e)},children:e})}))})]})}function Ze(e){var t=e.updateWorkspace,a=e.deleteWorkspace,r=e.onGettingCurrentWorkspace,s=e.onManageWorkspace,o=Object(i.c)(),l=Object(i.d)((function(e){return e.user.loggedInUser})),d=Object(i.d)((function(e){return e.workspace.workspaces})),u=Object(c.useState)(d.filter((function(e){return l.pinnedWorkspaces.includes(e._id)}))),j=Object(fe.a)(u,2),p=j[0],m=j[1],f=Object(i.d)((function(e){return e.workspace.currWorkspace})),O=Object(c.useState)(f.color),h=Object(fe.a)(O,2),v=h[0],g=h[1],x=Object(c.useState)(f.img),k=Object(fe.a)(x,2),w=k[0],N=k[1],C=Object(c.useState)(!1),y=Object(fe.a)(C,2),S=y[0],T=y[1],B=Object(c.useState)(f.name),_=Object(fe.a)(B,2),E=_[0],L=_[1],A=Object(c.useState)(!1),D=Object(fe.a)(A,2),I=D[0],F=D[1],U=Object(c.useRef)(),M=Object(c.useState)(!1),W=Object(fe.a)(M,2),R=W[0],P=W[1],K=Object(c.useRef)();Object(c.useEffect)((function(){m(d.filter((function(e){return l.pinnedWorkspaces.includes(e._id)})))}),[l,l.pinnedWorkspaces,d]),Object(c.useEffect)((function(){g(f.color),N(f.img),L(f.name)}),[f]),Object(c.useEffect)((function(){R||setTimeout((function(){K&&K.current&&K.current.focus()}),0)}),[R]);return Object(n.jsxs)("div",{className:"workspace-title ".concat(I?"open-modal":""),children:[Object(n.jsx)("div",{className:"workspace-symbol",style:{backgroundColor:"".concat(v)},children:w}),S?Object(n.jsx)("input",{type:"text",className:"workspace-name-input",value:E,onChange:function(e){L(e.target.value)},ref:U,onBlur:function(){T(!1);var e=Object(b.a)(Object(b.a)({},f),{},{name:E});E.length>1?t(e):L(f.name)},onKeyDown:function(e){"Enter"===e.key&&e.target.blur()}}):Object(n.jsx)("div",{title:E.length>12?E:"",className:"workspace-name ".concat(E.length>12?"ellipsis-board-name":""),children:E}),Object(n.jsxs)("div",{className:"workspace-name-options-btn-wrapper workspace-title-btn ".concat(I?"show-btn":""),tabIndex:"0",onBlur:function(){return F(!1)},ref:K,children:[Object(n.jsx)(Le.p,{className:"icon BsThreeDots",onClick:function(){F((function(e){return!e}))}}),I&&Object(n.jsxs)("div",{className:"modal-default-style toolbar-menu-options-modal item-actions-modal",children:[Object(n.jsxs)("div",{className:"modal-btn item-actions-btn",onClick:function(){T(!0),setTimeout((function(){U.current.focus()}),0),F(!1)},children:[Object(n.jsx)(Le.h,{className:"icon"}),Object(n.jsx)("span",{children:"Rename workspace"})]}),Object(n.jsx)(Be,{btn:Object(n.jsxs)("div",{children:[Object(n.jsx)(Ye.a,{className:"icon"}),Object(n.jsx)("span",{children:"Change icon"})]}),toggleShownForwardModal:function(e){P(e)},isWorkspaceIconPicker:!0,children:Object(n.jsx)(Qe,{updateWorkspace:t})}),Object(n.jsxs)("div",{className:"modal-btn item-actions-btn",onClick:function(){!function(e){var t=Object(b.a)(Object(b.a)({},l),{},{pinnedWorkspaces:l.pinnedWorkspaces.filter((function(t){return t!==e}))});o($(t)),p.map((function(e){return e.boards.map((function(t){return!0===t.isLastSeen?r(e):null}))}))}(f._id),F(!1)},children:[Object(n.jsx)(Ce.a,{className:"icon"}),Object(n.jsx)("span",{children:"Unpin workspace from menu"})]}),Object(n.jsxs)("div",{className:"modal-btn item-actions-btn",onClick:function(){s(),F(!1)},children:[Object(n.jsx)(ke.e,{className:"icon"}),Object(n.jsx)("span",{children:"Manage workspace"})]}),Object(n.jsxs)("div",{className:"modal-btn item-actions-btn",onClick:function(){a(f._id),F(!1)},children:[Object(n.jsx)(Ce.b,{className:"icon"}),Object(n.jsx)("span",{children:"Delete workspace"})]})]})]})]})}function $e(e){var t=e.btnName,a=(e.addNewBoard,e.addNewFloder),c=e.setIsShown;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"modal-default-style actions-modal-wrapper",children:function(){var e=[];switch(t){case"Add":e.push(Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"actions-btn actions-modal-btn modal-btn ",onClick:function(){c(!0)},children:[Object(n.jsx)(Ye.c,{className:"icon"}),Object(n.jsx)("span",{children:"New Board"})]}),Object(n.jsxs)("div",{className:"actions-btn modal-btn",onClick:a,children:[Object(n.jsx)(Ye.c,{className:"icon"}),Object(n.jsx)("span",{children:"New Folder"})]})]}));break;case"Filters":case"Search":e.push(Object(n.jsx)(n.Fragment,{children:t}));break;default:e.push("")}return e}()})})}var et=a(90);function tt(e){var t=e.btnName,a=e.addNewBoard,r=e.addNewFloder,s=Object(c.useState)(!1),o=Object(fe.a)(s,2),i=o[0],l=o[1],d=Object(c.useState)(!1),u=Object(fe.a)(d,2),b=u[0],j=u[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"actions-btn-wrapper",tabIndex:"0",onBlur:function(){l(!1)},children:[i&&Object(n.jsx)($e,{btnName:t,addNewBoard:a,addNewFloder:r,setIsShown:j}),Object(n.jsx)("div",{className:"add actions-btn ".concat(i?"active":""),onClick:function(){l((function(e){return!e}))},children:function(){var e=[];switch(t){case"Add":e.push(Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ae.h,{className:"icon"}),Object(n.jsx)("span",{children:"Add"})]}));break;case"Filters":e.push(Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(et.a,{className:"icon"}),Object(n.jsx)("span",{children:"Filters"})]}));break;default:e.push("")}return e}()})]}),b&&Object(n.jsx)(we,{setIsShown:j,children:Object(n.jsx)(Je,{addNewBoard:a,setIsShown:j})})]})}var at=a(38);function nt(e){var t=e.search,a=e.setSearch,r=e.setFilteredFolders,s=e.setFilteredBoards,o=Object(i.d)((function(e){return e.workspace.currWorkspace})),l=Object(c.useState)(!1),d=Object(fe.a)(l,2),u=d[0],b=d[1],j=Object(c.useRef)();return Object(c.useEffect)((function(){r(o.folders.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})))}),[t,o.folders,r]),Object(c.useEffect)((function(){s(o.boards.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})))}),[t,o.boards,s]),Object(n.jsx)(n.Fragment,{children:u?Object(n.jsx)("div",{className:"search",children:Object(n.jsx)("input",{ref:j,className:"search-input menu-btn",type:"search",placeholder:"Search",onChange:function(e){return a(e.target.value)},onBlur:function(e){""===e.target.value&&b(!1)},onKeyDown:function(e){"Enter"===e.key&&e.target.blur()}})}):Object(n.jsx)("div",{className:"actions-btn-wrapper",onClick:function(){b(!0),setTimeout((function(){j&&j.current&&j.current.focus()}),0)},children:Object(n.jsxs)("div",{className:"add actions-btn",children:[Object(n.jsx)(at.d,{className:"icon"}),Object(n.jsx)("span",{children:"Search"})]})})})}var ct={getById:function(e,t){var a={};e.map((function(e){return e.boards.map((function(e){return a=e._id===t?e:null}))})),a||e.map((function(e){return e.folders.map((function(e){return e.boards.map((function(e){return a=e._id===t?e:null}))}))}));return a},addBoard:function(e,t){var a={_id:Date.now().toString(16)+Math.random().toString(16),isLastSeen:!1,name:t,desc:"Add board description",createdAt:Date.now(),lastUpdated:null,dropdownLabels:[],statusLabelList:[{_id:rt(),color:"#ffbe0c",name:"Working on it"},{_id:rt(),color:"#2bd44e",name:"Done"},{_id:rt(),color:"#c73d51",name:"Delayed"},{_id:rt(),color:"rgb(255 60 125)",name:"To do"}],activities:[],isPrivate:!1,owner:{},tableColumns:[{_id:rt(),title:"Group Title",type:"Group Title",taskKey:"name"},{_id:rt(),title:"Person123",type:"People",taskKey:"owner"},{_id:rt(),title:"Status123",type:"Status",taskKey:"status"},{_id:rt(),title:"Date",type:"Date",taskKey:"createdAt"}],tables:[{_id:rt(),name:"Group Title",color:"#0085ff",createdAt:Date.now(),lastUpdated:"",tasks:[{_id:rt(),name:"Item 1",createdAt:Date.now(),conversations:[],package:"",owner:[],dropdown:[],milestone:"",status:{name:"Done",color:"rgb(43, 212, 78)"},policyState:{name:"",color:""},timeline:{from:"",to:""},duration:"",tags:[],files:[],weight:"",dateCompleted:null,progress:"",lastUpdated:{}},{_id:rt(),name:"Item 2",createdAt:Date.now(),conversations:[],package:"",owner:[],dropdown:[],milestone:"",status:{name:"Working on it",color:"rgb(255, 190, 12)"},policyState:{name:"",color:""},timeline:{from:"",to:""},duration:"",tags:[],files:[],weight:"",dateCompleted:null,progress:"",lastUpdated:{}},{_id:rt(),name:"Item 3",createdAt:Date.now(),conversations:[],package:"",owner:[],dropdown:[],milestone:"",status:{name:"",color:"rgb(180, 182, 188)"},policyState:{name:"",color:""},timeline:{from:"",to:""},duration:"",tags:[],files:[],weight:"",dateCompleted:null,progress:"",lastUpdated:{}}]},{_id:rt(),name:"Group Title",color:"#b456dd",createdAt:Date.now(),lastUpdated:"",tasks:[{_id:rt(),name:"Item 4",createdAt:Date.now(),conversations:[],package:"",owner:[],dropdown:[],milestone:"",status:{name:"",color:"rgb(180, 182, 188)"},policyState:{name:"",color:""},timeline:{from:"",to:""},duration:"",tags:[],files:[],weight:"",dateCompleted:null,progress:"",lastUpdated:{}},{_id:rt(),name:"Item 5",createdAt:Date.now(),conversations:[],package:"",owner:[],dropdown:[],milestone:"",status:{name:"",color:"rgb(180, 182, 188)"},policyState:{name:"",color:""},timeline:{from:"",to:""},duration:"",tags:[],files:[],weight:"",dateCompleted:null,progress:"",lastUpdated:{}}]}]},n=e;return n.boards=[].concat(Object(f.a)(n.boards),[a]),n},addBoardInFolder:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"New Board",n={_id:Date.now().toString(16)+Math.random().toString(16),isLastSeen:!1,name:a,desc:"Add board description",createdAt:Date.now(),lastUpdated:null,dropdownLabels:[],statusLabelList:[{_id:rt(),color:"#ffbe0c",name:"Working on it"},{_id:rt(),color:"#2bd44e",name:"Done"},{_id:rt(),color:"#c73d51",name:"Delayed"},{_id:rt(),color:"rgb(255 60 125)",name:"To do"}],activities:[],isPrivate:!1,owner:{},tableColumns:[{_id:rt(),title:"Group Title",type:"Group Title",taskKey:"name"},{_id:rt(),title:"Person123",type:"People",taskKey:"owner"},{_id:rt(),title:"Status123",type:"Status",taskKey:"status"},{_id:rt(),title:"Date",type:"Date",taskKey:"createdAt"}],tables:[{_id:rt(),name:"Group Title",color:"#0085ff",createdAt:Date.now(),lastUpdated:"",tasks:[{_id:rt(),name:"Item 1",createdAt:Date.now(),conversations:[],package:"",owner:[],dropdown:[],milestone:"",status:{name:"Done",color:"rgb(43, 212, 78)"},policyState:{name:"",color:""},timeline:{from:"",to:""},duration:"",tags:[],files:[],weight:"",dateCompleted:null,progress:"",lastUpdated:{}},{_id:rt(),name:"Item 2",createdAt:Date.now(),conversations:[],package:"",owner:[],dropdown:[],milestone:"",status:{name:"Working on it",color:"rgb(255, 190, 12)"},policyState:{name:"",color:""},timeline:{from:"",to:""},duration:"",tags:[],files:[],weight:"",dateCompleted:null,progress:"",lastUpdated:{}},{_id:rt(),name:"Item 3",createdAt:Date.now(),conversations:[],package:"",owner:[],dropdown:[],milestone:"",status:{name:"",color:"rgb(180, 182, 188)"},policyState:{name:"",color:""},timeline:{from:"",to:""},duration:"",tags:[],files:[],weight:"",dateCompleted:null,progress:"",lastUpdated:{}}]},{_id:rt(),name:"Group Title",color:"#b456dd",createdAt:Date.now(),lastUpdated:"",tasks:[{_id:rt(),name:"Item 4",createdAt:Date.now(),conversations:[],package:"",owner:[],dropdown:[],milestone:"",status:{name:"",color:"rgb(180, 182, 188)"},policyState:{name:"",color:""},timeline:{from:"",to:""},duration:"",tags:[],files:[],weight:"",dateCompleted:null,progress:"",lastUpdated:{}},{_id:rt(),name:"Item 5",createdAt:Date.now(),conversations:[],package:"",owner:[],dropdown:[],milestone:"",status:{name:"",color:"rgb(180, 182, 188)"},policyState:{name:"",color:""},timeline:{from:"",to:""},duration:"",tags:[],files:[],weight:"",dateCompleted:null,progress:"",lastUpdated:{}}]}]},c=Object(b.a)({},t);return c.boards=[].concat(Object(f.a)(c.boards),[n]),e.folders=e.folders.map((function(e){return e._id===c._id?c:e})),e},removeBoard:function(e,t){var a=null,n={};if(e.boards.forEach((function(e){return e._id===t?a=Object(b.a)({},e):null})),a)n=Object(b.a)(Object(b.a)({},e),{},{boards:e.boards.filter((function(e){return e._id!==t}))});else if(e.folders.forEach((function(e){return e.boards.forEach((function(e){return e._id===t?a=e:null}))})),a){var c={};e.folders.forEach((function(e){return e.boards.forEach((function(t){return t._id===a._id?c=e:null}))})),n=Object(b.a)(Object(b.a)({},e),{},{folders:e.folders.map((function(e){return e._id===c._id?e=Object(b.a)(Object(b.a)({},e),{},{boards:e.boards.filter((function(e){return e._id!==a._id}))}):e}))})}return n},addFolder:function(e){var t={_id:Date.now().toString(16)+Math.random().toString(16),name:"New Folder",boards:[]},a=e;return a.folders=[].concat(Object(f.a)(a.folders),[t]),a},removeFolder:function(e,t){var a=e;return a.folders=a.folders.filter((function(e){return e._id!==t})),a},updateFolder:function(e,t){var a=e;return a.folders=a.folders.map((function(e){return e._id===t._id?t:e})),a},addTable:function(e){var t={_id:Date.now().toString(16)+Math.random().toString(16)+"0".repeat(16),name:"New Group",color:"rgb(180, 182, 188)",createdAt:Date.now(),lastUpdated:"",tasks:[]},a=e;return a.tables=[t].concat(Object(f.a)(a.tables)),a},removeTable:function(e,t){var a=t;return a.tables=a.tables.filter((function(t){return t._id!==e})),a},updateTable:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{tables:e.tables.map((function(e){return e._id===t._id?t:e}))})},addTask:function(e,t,a,n){var c={_id:Date.now().toString(16)+Math.random().toString(16)+"0".repeat(16),name:a,createdAt:Date.now(),conversations:[],package:"",owner:[],dropdown:[],milestone:"",status:{name:"",color:"rgb(180, 182, 188)"},policyState:{name:"",color:""},timeline:{from:"",to:""},duration:"",tags:[],files:[],weight:"",dateCompleted:null,progress:"",lastUpdated:{byUser:n,date:(new Date).getTime()}};c.owner.push(n._id);var r=t;return r.tables.map((function(t){return t._id===e._id?t.tasks.push(c):t})),r},removeTask:function(e,t,a){var n=Object(b.a)(Object(b.a)({},t),{},{tasks:t.tasks.filter((function(t){return t._id!==e}))});return Object(b.a)(Object(b.a)({},a),{},{tables:a.tables.map((function(e){return e._id===n._id?n:e}))})},updateTask:function(e,t,a,n){return a.lastUpdated={byUser:n._id,date:(new Date).getTime()},Object(b.a)(Object(b.a)({},t),{},{tables:t.tables.map((function(t){return t._id===e._id?Object(b.a)(Object(b.a)({},t),{},{tasks:t.tasks.map((function(e){return e._id===a._id?a:e}))}):t}))})}};function rt(){return"_"+Math.random().toString(36).substr(2,9)}function st(e){var t=e.onGettingCurrentBoard,a=e.CgViewComfortable,r=e.scroll,s=e.onEditBoard,o=Object(i.d)((function(e){return e.user.loggedInUser})),l=Object(i.d)((function(e){return e.user.loggedInUser.favBoards})),d=Object(i.d)((function(e){return e.workspace.workspaces})),u=Object(i.d)((function(e){return e.workspace.boardWorkspace})),j=Object(i.c)(),p=Object(c.useState)([]),m=Object(fe.a)(p,2),O=m[0],h=m[1],v=Object(c.useState)([]),g=Object(fe.a)(v,2),x=g[0],k=g[1],w=Object(c.useState)([]),N=Object(fe.a)(w,2),C=N[0],y=N[1],S=Object(c.useState)([]),T=Object(fe.a)(S,2),B=T[0],_=T[1],E=function(e){var t=ct.removeBoard(u,e);j(Re(t)),j(Pe(t))},L=function(e,t){if(u._id===e._id){var a=ct.removeBoard(u,t._id),n=Object(b.a)(Object(b.a)({},a),{},{boards:[].concat(Object(f.a)(a.boards),[t])});j(Re(n)),j(Pe(n))}else{E(t._id);var c=Object(b.a)(Object(b.a)({},e),{},{boards:[].concat(Object(f.a)(e.boards),[t])});j(Re(c)),j(Pe(c))}},A=function(e,t,a){var n=ct.removeBoard(u,a._id);j(Re(n)),j(Pe(n));var c=Object(b.a)(Object(b.a)({},t),{},{boards:[].concat(Object(f.a)(t.boards),[a])});if(n._id===e._id){var r=ct.updateFolder(n,c);j(Re(r)),j(Pe(r))}else{var s=ct.updateFolder(e,c);j(Re(s)),j(Pe(s))}};function D(e){var t=u,a={isBoardInsideFolder:!1,cuurFolde:null};t.folders.map((function(t){return t.boards.map((function(n){return n._id===e._id?a=Object(b.a)(Object(b.a)({},a),{},{isBoardInsideFolder:!0,cuurFolde:t}):null}))})),a.isBoardInsideFolder?t=Object(b.a)(Object(b.a)({},u),{},{folders:u.folders.map((function(t){return t._id===a.cuurFolde._id?Object(b.a)(Object(b.a)({},t),{},{boards:t.boards.map((function(t){return t._id===e._id?e:t}))}):t}))}):t.boards=t.boards.map((function(t){return t._id===e._id?e:t})),j(Re(t)),j(Pe(t))}return Object(c.useEffect)((function(){h([]),k([]),o.favBoards.length>0&&d.forEach((function(e){h((function(t){return[].concat(Object(f.a)(t),Object(f.a)(e.boards))})),e.folders.map((function(e){return k((function(t){return[].concat(Object(f.a)(t),Object(f.a)(e.boards))}))}))}))}),[o,l,d]),Object(c.useEffect)((function(){y(O.filter((function(e){return l.includes(e._id)})))}),[O,l]),Object(c.useEffect)((function(){_(x.filter((function(e){return l.includes(e._id)})))}),[x,l]),Object(n.jsxs)("div",{className:"favorite-toolbar-menu",children:[Object(n.jsxs)("div",{className:"title-wrapper",children:[Object(n.jsx)(Le.d,{className:"star"}),Object(n.jsx)("div",{children:"Favorites"})]}),C.length>0||B.length>0?Object(n.jsxs)("div",{children:[C.length>0&&Object(n.jsx)(ze,{boards:C,onGettingCurrentBoard:t,CgViewComfortable:a,removeBoard:E,editBoard:D,moveBoard:L,moveBoardToFolder:A,scroll:r,cmp:"favorite",onEditBoard:s}),B.length>0&&Object(n.jsx)(ze,{boards:B,onGettingCurrentBoard:t,CgViewComfortable:a,removeBoard:E,editBoard:D,moveBoard:L,moveBoardToFolder:A,scroll:r,object:"insideFolder",cmp:"favorite",onEditBoard:s})]}):Object(n.jsxs)("div",{className:"no-favorite-msg",children:[Object(n.jsx)("div",{children:Object(n.jsx)(Le.d,{className:"star"})}),Object(n.jsx)("div",{children:"No favorite boards yet"}),Object(n.jsx)("div",{children:"'Star' any board so that you can easily access it later"})]})]})}function ot(e){var t=e.IoIosArrowForward,a=e.isToolbarMenuClose,r=e.onToggleToolbarMenu,s=e.IoIosArrowBack,o=e.workspace,i=e.IoMdArrowDropdown,l=e.CgViewComfortable,d=e.onGettingCurrentBoard,u=(e.onGettingCurrentBoardInWorkspace,e.addNewBoard),b=e.addNewFloder,j=e.addBoardInFolder,p=e.removeFolder,m=e.updateFolder,f=e.removeBoard,O=e.editBoard,h=e.moveFolder,v=e.moveBoard,g=e.moveBoardToFolder,x=e.isNewFolderCreated,k=e.onEndNewFolderUpdating,w=e.updateWorkspace,N=e.deleteWorkspace,C=e.onGettingCurrentWorkspace,y=e.onManageWorkspace,S=e.toolbarActiveBtn,T=e.onEditBoard,B=Object(c.useState)(0),_=Object(fe.a)(B,2),E=_[0],L=_[1],A=Object(c.useState)(""),D=Object(fe.a)(A,2),I=D[0],F=D[1],U=Object(c.useState)([]),M=Object(fe.a)(U,2),W=M[0],R=M[1],P=Object(c.useState)([]),K=Object(fe.a)(P,2),G=K[0],V=K[1];return Object(c.useEffect)((function(){console.log("scroll",E)}),[E]),o.boards&&o.folders?Object(n.jsx)("div",{className:"board-toolbar-menu ".concat(a?"close-toolbar-menu":"open-toolbar-menu"),children:Object(n.jsxs)("div",{className:"sticky-wrapper",children:[Object(n.jsxs)("div",{className:"toggle-toolbar-menu-btn ".concat(a?"open":"close"),onClick:r,children:[a?Object(n.jsx)(t,{style:{width:"15px",height:"15px"}}):Object(n.jsx)(s,{style:{width:"15px",height:"15px"}}),a?Object(n.jsx)("span",{className:"label-text",children:"Open navigation"}):Object(n.jsx)("span",{className:"label-text",children:"Close navigation"})]}),Object(n.jsx)("div",{className:"navigation-container ".concat(a?"hide-txt":"show-txt"),children:"favorite"===S?Object(n.jsx)(st,{onGettingCurrentBoard:d,CgViewComfortable:l,removeBoard:f,editBoard:O,moveBoard:v,moveBoardToFolder:g,scroll:E,onEditBoard:T}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"nav-first-area",children:[Object(n.jsx)(Ze,{updateWorkspace:w,deleteWorkspace:N,onGettingCurrentWorkspace:C,onManageWorkspace:y}),Object(n.jsxs)("div",{className:"actions-container",children:[Object(n.jsx)(tt,{btnName:"Add",addNewBoard:u,addNewFloder:b}),Object(n.jsx)(tt,{btnName:"Filters"}),Object(n.jsx)(nt,{search:I,setSearch:F,setFilteredFolders:R,setFilteredBoards:V})]})]}),Object(n.jsx)("div",{className:"nav-second-area",children:Object(n.jsx)("div",{className:"second-area-wrapper",children:Object(n.jsxs)("div",{className:"second-area-content",onScroll:function(){console.log("scroll"),L((function(e){return e+1}))},children:[o.folders.length>0&&Object(n.jsx)(Xe,{folders:W,IoMdArrowDropdown:i,CgViewComfortable:l,onGettingCurrentBoard:d,addBoardInFolder:j,removeFolder:p,updateFolder:m,removeBoard:f,editBoard:O,moveFolder:h,moveBoard:v,moveBoardToFolder:g,scroll:E,isNewFolderCreated:x,onEndNewFolderUpdating:k,onEditBoard:T}),o.boards.length>0&&Object(n.jsx)(ze,{boards:G,onGettingCurrentBoard:d,CgViewComfortable:l,removeBoard:f,editBoard:O,moveBoard:v,moveBoardToFolder:g,scroll:E,onEditBoard:T}),o.boards.length<1&&o.folders.length<1&&Object(n.jsxs)("div",{className:"empty-workspace",children:[Object(n.jsx)("div",{className:"small-font",children:"Workspace is empty"}),Object(n.jsx)("div",{className:"small-font",children:"Create or add boards"})]})]})})})]})})]})}):Object(n.jsx)("div",{children:"Loading...."})}var it=a(65),lt=a.n(it),dt=a(88),ut=a(69),bt=a(44),jt=function(e){Object(T.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(y.a)(this,a);for(var c=arguments.length,s=new Array(c),o=0;o<c;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={board:{},name:"",desc:"",isSearchActive:!1},e.inputRef=r.a.createRef(),e.focusText=function(){setTimeout((function(){document.execCommand("selectAll",!1,null)}),0)},e.handleChangeBoardName=function(t){e.setState({name:t.target.value}),e.setState({board:Object(b.a)(Object(b.a)({},e.state.board),{},{name:t.target.value})})},e.handleChangeBoardDesc=function(t){e.setState({desc:t.target.value}),e.setState({board:Object(b.a)(Object(b.a)({},e.state.board),{},{desc:t.target.value})})},e.changeToContentEditable=function(t){var a=[];return"name"===t?a.push(Object(n.jsx)(lt.a,{onFocus:e.focusText,className:"content-editable",innerRef:e.editableBoardName,html:e.state.name,disabled:!1,onChange:e.handleChangeBoardName,onBlur:function(){if(e.props.board.name!==e.state.name){var t='changed the board name from "'.concat(e.props.board.name,'" to "').concat(e.state.name,'"'),a=Object(b.a)(Object(b.a)({},e.props.board),{},{name:e.state.name,activities:[{desc:t,userId:e.props.loggedInUser._id,createdAt:Date.now()}].concat(Object(f.a)(e.props.board.activities))});e.props.onEditBoard(a),e.props.updateCurrBoard(a)}},onKeyDown:function(e){"Enter"===e.key&&e.target.blur()}})):a.push(Object(n.jsx)(lt.a,{onFocus:e.focusText,className:"content-editable",innerRef:e.editableBoardDesc,html:e.state.desc,disabled:!1,onChange:e.handleChangeBoardDesc,onBlur:function(){if(e.props.board.desc!==e.state.desc){var t='changed the board description from "'.concat(e.props.board.desc,'" to "').concat(e.state.desc,'"'),a=Object(b.a)(Object(b.a)({},e.props.board),{},{desc:e.state.desc,activities:[{desc:t,userId:e.props.loggedInUser._id,createdAt:Date.now()}].concat(Object(f.a)(e.props.board.activities))});e.props.onEditBoard(a),e.props.updateCurrBoard(a)}},onKeyDown:function(e){"Enter"===e.key&&e.target.blur()}})),a},e.toggleFavUserBoardList=function(){e.props.toggleFavUserBoardList(e.props.loggedInUser,e.props.board._id);var t="".concat(e.props.loggedInUser.favBoards.includes(e.props.board._id)?"added board to ":"removed board from ","favorites"),a=Object(b.a)(Object(b.a)({},e.props.board),{},{activities:[{desc:t,userId:e.props.loggedInUser._id,createdAt:Date.now()}].concat(Object(f.a)(e.props.board.activities))});e.props.onEditBoard(a),e.props.updateCurrBoard(a)},e}return Object(S.a)(a,[{key:"componentDidMount",value:function(){var e=Object(C.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.board&&(this.setState({name:this.props.board.name}),this.setState({desc:this.props.board.desc}),this.setState({board:this.props.board})),this.editableBoardName=r.a.createRef(),this.editableBoardDesc=r.a.createRef();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(C.a)(N.a.mark((function e(t,a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.match.params.id!==this.props.match.params.id&&(this.setState({name:this.props.board.name}),this.setState({desc:this.props.board.desc}),this.setState({board:this.props.board})),t.board.name!==this.props.board.name&&(this.setState({name:this.props.board.name}),this.setState({desc:this.props.board.desc}),this.setState({board:this.props.board}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getFavBoardStyle",value:function(){if(this.props.loggedInUser.favBoards.includes(this.state.board._id))return"fav"}},{key:"render",value:function(){var e=this,t=this.props,a=t.onAddNewTable,c=t.setSearch,r=this.state.board;return r?Object(n.jsxs)("div",{className:"board-header",children:[Object(n.jsxs)("div",{className:"board-info",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{className:"board-title",children:this.changeToContentEditable("name")}),Object(n.jsxs)("div",{className:"add-to-favorite-btn",children:[Object(n.jsx)(Le.d,{className:"BsFillStarFill ".concat(this.getFavBoardStyle()),onClick:this.toggleFavUserBoardList}),this.props.loggedInUser.favBoards.includes(r._id)?Object(n.jsx)("span",{className:"label-text arrow-up",children:"Remove from favorites"}):Object(n.jsx)("span",{className:"label-text arrow-up",children:"Add to favorites"})]})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"board-viewers"}),Object(n.jsxs)("div",{className:"board-integrations",children:[Object(n.jsxs)("div",{className:"icons-container",children:[Object(n.jsx)("div",{className:"icon-hexagon-wrapper",children:Object(n.jsx)("img",{src:"https://img.icons8.com/color/13/000000/slack-new.png",alt:""})}),Object(n.jsx)("div",{className:"icon-hexagon-wrapper",children:Object(n.jsx)("img",{src:"https://img.icons8.com/fluent/13/000000/gmail--v1.png",alt:""})})]}),Object(n.jsx)("span",{children:"Integrate / 2"})]}),Object(n.jsxs)("div",{className:"board-automations",children:[Object(n.jsx)(dt.a,{}),Object(n.jsx)("span",{children:"Automate / 2"})]}),Object(n.jsxs)("div",{className:"board-subscribers",children:[Object(n.jsx)(Le.i,{}),Object(n.jsx)("span",{children:" / 1"})]}),Object(n.jsxs)("div",{className:"board-activities",onClick:this.props.openActivitiesModal,children:["Activities / ",this.props.board.activities.length>0?this.props.board.activities.length:0]}),Object(n.jsx)("div",{className:"board-more-options",children:Object(n.jsx)(Le.p,{})})]})]}),Object(n.jsx)("div",{className:"board-desc",children:this.changeToContentEditable("desc")}),Object(n.jsxs)("div",{className:"board-actions",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(ut.a,{style:{width:"15px",height:"15px"}}),Object(n.jsxs)("span",{className:"main-table",children:["Main Table / ",this.props.board.tables.length]}),Object(n.jsx)(Ne.c,{style:{width:"12px",height:"12px"}})]}),Object(n.jsxs)("div",{className:"actions-continer",children:[Object(n.jsxs)("div",{onClick:a,children:[Object(n.jsx)("span",{children:"New Item"}),Object(n.jsx)(Ne.c,{style:{width:"12px",height:"12px"}})]}),Object(n.jsx)("div",{className:"header-search-wrapper",children:this.state.isSearchActive?Object(n.jsx)("input",{className:"search-input stretch-left",ref:this.inputRef,type:"search",onChange:function(e){return c(e.target.value)},placeholder:"Search",onBlur:function(t){""===t.target.value&&e.setState({isSearchActive:!1})},onKeyDown:function(e){"Enter"===e.key&&e.target.blur()}}):Object(n.jsxs)("div",{onClick:function(){e.setState({isSearchActive:!0}),setTimeout((function(){e.inputRef&&e.inputRef.current&&e.inputRef.current.focus()}),0)},className:"header-action-btn",children:[Object(n.jsx)(at.d,{}),Object(n.jsx)("span",{children:"Search"})]})}),Object(n.jsxs)("div",{children:[Object(n.jsx)(he.g,{}),Object(n.jsx)("span",{children:"Person"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(Le.e,{}),Object(n.jsx)("span",{children:"Filter"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(bt.a,{}),Object(n.jsx)("span",{children:"Sort"})]}),Object(n.jsx)("div",{children:Object(n.jsx)(Le.p,{})})]})]})]}):Object(n.jsx)("div",{children:"Loading...."})}}]),a}(c.Component),pt={loadWorkspaces:We,updateWorkspace:Re,toggleFavUserBoardList:ee,updateCurrBoard:Ge},mt=Object(i.b)((function(e){return{workspaces:e.workspace.workspaces,board:e.workspace.currBoard,loggedInUser:e.user.loggedInUser}}),pt)(Object(k.g)(jt)),ft=a(45),Ot=function(e){switch(e){case"checkBox":return"checkbox-cell-width";case"lastUpdated":return"last-updated-cel-width";case"text":return"text-cell-width";case"dropdown":return"dropdown-cell-width";default:return""}},ht=function(e){Object(T.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={isUpdateLabelName:!1,label:{}},e.handelChangeLabelName=function(t){e.setState({label:Object(b.a)(Object(b.a)({},e.state.label),{},{name:t.target.value})},(function(){e.props.updateLabel(e.state.label)}))},e.onUpdateLabelName=function(){e.setState({label:e.props.statusLabel},(function(){e.setState({isUpdateLabelName:!0},(function(){e.editableLabelName.current.focus(),e.editableLabelName.current.select()}))}))},e}return Object(S.a)(a,[{key:"componentDidMount",value:function(){var e=Object(C.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({label:this.props.statusLabel}),this.editableLabelName=r.a.createRef();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.isUpdateLabelName,c=t.label,r=this.props.statusLabel;return Object(n.jsx)("span",{className:"edit-label-name",onClick:this.onUpdateLabelName,children:a?Object(n.jsx)("input",{className:"update-label-name-input",type:"text",value:c.name,onChange:this.handelChangeLabelName,ref:this.editableLabelName,onBlur:function(){e.setState({isUpdateLabelName:!1})},onKeyDown:function(t){"Enter"===t.key&&(t.target.blur(),e.setState({isUpdateLabelName:!1}))}}):Object(n.jsx)("span",{children:r.name})})}}]),a}(c.Component),vt=function(e){Object(T.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={isUpdateLabelColor:!1,newLabelColor:null,currLabel:{}},e.onToggleUpdateLabelColor=function(t){e.setState({isUpdateLabelColor:!e.state.isUpdateLabelColor},(function(){e.props.hideColorPicker(e.state.isUpdateLabelColor)})),e.setState({currLabel:t})},e.onChangeNewLabelColor=function(t){e.setState({newLabelColor:t})},e.onRemoveNewLabelColor=function(){e.setState({newLabelColor:null})},e.onSaveColor=function(t){e.state.isUpdateLabelColor&&(e.setState({currLabel:Object(b.a)(Object(b.a)({},e.state.currLabel),{},{color:t})}),e.setState({isUpdateLabelColor:!1},(function(){e.props.hideColorPicker(e.state.isUpdateLabelColor),e.props.updateLabel(e.state.currLabel)})))},e}return Object(S.a)(a,[{key:"componentDidMount",value:function(){var e=Object(C.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({currLabel:this.props.statusLabel});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.isUpdateLabelColor,a=this.props,c=a.BsDroplet,r=a.statusLabel,s=a.colorsPicker,o=a.idx,i=a.updateLabel,l=a.provided;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",Object(b.a)(Object(b.a)({className:"stat-label-edit-wrapper ".concat(o>5?"sec-column":""),ref:l.innerRef},l.draggableProps),{},{children:[Object(n.jsx)("div",Object(b.a)(Object(b.a)({className:"status-label-dots-btn"},l.dragHandleProps),{},{children:"::"})),Object(n.jsxs)("div",{title:"".concat(r.name),className:"stat-label-edit ".concat(r.name.length>13?"ellipsis-label-name-edit":""),tabindex:"0",children:[t?Object(n.jsx)("span",{className:"edit-label-color",style:{backgroundColor:"".concat(this.state.newLabelColor?this.state.newLabelColor:r.color)},onClick:function(){return e.onToggleUpdateLabelColor(r)},children:Object(n.jsx)(c,{className:"BsDroplet ".concat("black"===r.color?"light-drop-on-dark-color":"")})}):Object(n.jsx)("span",{className:"edit-label-color",style:{backgroundColor:"".concat(r.color)},onClick:function(){return e.onToggleUpdateLabelColor(r)},children:Object(n.jsx)(c,{className:"BsDroplet ".concat("black"===r.color?"light-drop-on-dark-color":"")})}),Object(n.jsx)(ht,{statusLabel:r,updateLabel:i})]}),Object(n.jsxs)("div",{className:"status-label-delete-btn",onClick:function(){return e.props.onRemoveLabel(r._id)},children:[Object(n.jsx)(ft.c,{}),Object(n.jsx)("span",{className:"label-text-on-top",children:"Delete Labels"})]})]})),t&&Object(n.jsx)("div",{className:"label-color-edit",style:{gridRowStart:o<6?o+2:o-4,gridRowEnd:o<6?o+6:o},children:Object(n.jsx)("div",{className:"status-color-picker",children:s.map((function(t){return Object(n.jsx)("div",{className:"color",style:{backgroundColor:"".concat(t)},onMouseEnter:function(){return e.onChangeNewLabelColor(t)},onMouseLeave:function(){return e.onRemoveNewLabelColor()},onClick:function(){return e.onSaveColor(t)}})}))})})]})}}]),a}(c.Component),gt=["#f368e0","#FC427B","#e84118","#ff6b6b","#ff9f43","#f3a683","#feca57","#fbc531","#4cd137","#1dd1a1","#01a3a4","#48dbfb","#54a0ff","#00a8ff","#487eb0","#273c75","#3B3B98","#341f97","#5f27cd","#9c88ff","#D6A2E8","#ff9ff3","#f8a5c2","#f78fb3","#c8d6e5","#7f8fa6","#353b48","black"],xt=a(46),kt=function(e){Object(T.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={statusLabelList:[],newLabelColor:null,isUpdateLabelColor:!1,currLabel:{},hideColorPicker:!1,boardCopy:null},e.updateTask=function(t,a,n){if(a.status.name!==n.name){var c=Object(b.a)(Object(b.a)({},a),{},{status:n}),r='changed task "'.concat(a.name,'" status from "').concat(a.status.name,'" to "').concat(n.name,'"');e.props.onEditTask(t,c,r),e.props.setIsStatusModalOpen(!1)}else e.props.setIsStatusModalOpen(!1)},e.onChangeNewLabelColor=function(t){e.setState({newLabelColor:t})},e.onRemoveNewLabelColor=function(){e.setState({newLabelColor:null})},e.onAddNewLabel=function(t){12!==e.props.board.statusLabelList.length&&e.setState({statusLabelList:[].concat(Object(f.a)(e.props.board.statusLabelList),[{_id:(new Date).getTime().toString(),color:t,name:"New Label"}])},(function(){var a=Object(b.a)(Object(b.a)({},e.props.board),{},{statusLabelList:[].concat(Object(f.a)(e.props.board.statusLabelList),[{_id:(new Date).getTime().toString(),color:t,name:"New Label"}])});e.props.onEditBoard(a,null)}))},e.onRemoveLabel=function(t){var a=e.state.statusLabelList.filter((function(e){return e._id!==t}));e.setState({statusLabelList:a},(function(){var t=Object(b.a)(Object(b.a)({},e.props.board),{},{statusLabelList:a});e.props.onEditBoard(t,null)}))},e.updateLabel=function(t){var a=e.props.board.statusLabelList.map((function(e){return e._id===t._id?t:e}));e.setState({statusLabelList:a},(function(){var t=Object(b.a)(Object(b.a)({},e.props.board),{},{statusLabelList:a});e.props.onEditBoard(t,null)}))},e.onToggleUpdateLabelColor=function(t){e.setState({isUpdateLabelColor:!e.state.isUpdateLabelColor}),e.setState({currLabel:t})},e.hideColorPicker=function(t){t?e.setState({hideColorPicker:!0}):e.setState({hideColorPicker:!1})},e.handleDragEnd=function(t){var a=t.destination,n=t.source;if(a&&(a.index!==n.index||a.draggableId!==n.draggableId)){var c=Object(b.a)({},e.props.board.statusLabelList[n.index]);e.setState({boardCopy:Object(b.a)({},e.state.boardCopy)},(function(){return e.state.boardCopy.statusLabelList.splice(n.index,1),e.state.boardCopy.statusLabelList.splice(a.index,0,c),e.state.boardCopy})),e.props.onEditBoard(e.state.boardCopy,null)}},e}return Object(S.a)(a,[{key:"componentDidMount",value:function(){var e=Object(C.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(f.a)(this.props.board.statusLabelList),this.setState({statusLabelList:t}),this.setState({boardCopy:this.props.board});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.task,c=t.table,r=t.FaPencilAlt,s=t.board,o=t.isEditLabelsModalOpen,i=t.openEditLabelsModal,l=t.closeEditLabelsModal;return a?Object(n.jsxs)("div",{className:"status-modal-wrapper",children:[!o&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"status-label-list-container",children:s.statusLabelList.map((function(t,r){return Object(n.jsx)("div",{title:"".concat(t.name),className:"stat-label ".concat(t.name.length>13?"ellipsis-label-name":""),tabindex:"0",style:{backgroundColor:"".concat(t.color)},onMouseDown:function(){return e.updateTask(c,a,t)},children:t.name})}))}),Object(n.jsxs)("div",{className:"status-label-btn edit-status",onClick:i,children:[Object(n.jsx)(r,{className:"status-FaPencilAlt"}),Object(n.jsx)("span",{children:"Add/Edit Labels"})]})]}),o&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(xt.a,{onDragEnd:this.handleDragEnd,children:Object(n.jsx)(xt.c,{droppableId:"statusLabelList",children:function(t){return Object(n.jsxs)("div",Object(b.a)(Object(b.a)({className:"status-label-list-container edit ".concat(e.state.hideColorPicker?"updating-the-label":"")},t.droppableProps),{},{ref:t.innerRef,children:[s.statusLabelList.map((function(t,a){return Object(n.jsx)(xt.b,{draggableId:t._id,index:a,children:function(c){return Object(n.jsx)(vt,{provided:c,BsDroplet:Le.c,TiDelete:Le.c,statusLabel:t,colorsPicker:gt,hideColorPicker:e.hideColorPicker,idx:a,onRemoveLabel:e.onRemoveLabel,updateLabel:e.updateLabel})}},t._id)})),s.statusLabelList.length<12&&Object(n.jsx)("div",{className:"add-new-label sec-column ".concat(e.state.newLabelColor?"":"default"),style:{backgroundColor:"".concat(e.state.newLabelColor?e.state.newLabelColor:"transparent")},children:"New Label"}),t.placeholder]}),"statusLabelList")}})}),!this.state.hideColorPicker&&Object(n.jsx)("div",{className:"status-color-picker",children:gt.map((function(t){return Object(n.jsx)("div",{className:"color",style:{backgroundColor:"".concat(t)},onMouseEnter:function(){return e.onChangeNewLabelColor(t)},onMouseLeave:function(){return e.onRemoveNewLabelColor()},onClick:function(){return e.onAddNewLabel(t)}})}))}),Object(n.jsx)("div",{className:"status-label-btn",onClick:l,children:Object(n.jsx)("span",{children:"Apply"})})]})]}):Object(n.jsx)("div",{children:"Loading...."})}}]),a}(c.Component),wt=[{name:":alert1:",img:"fas fa-exclamation-circle",customCategory:"FA",class:"green"},{name:":alert2:",img:"fas fa-exclamation-triangle",customCategory:"FA",class:"red"},{name:":alert3:",img:"fas fa-exclamation-triangle",customCategory:"FA",class:"yellow"},{name:":check:",img:"fas fa-check",customCategory:"FA",class:"green"},{name:":times:",img:"fas fa-times",customCategory:"FA",class:"red"},{name:":times:",img:"far fa-smile",customCategory:"FA",class:"gray"},{name:":clock1:",img:"far fa-clock",customCategory:"FA",class:"green"},{name:":clock2:",img:"far fa-clock",customCategory:"FA",class:"red"},{name:":bolt:",img:"fas fa-bolt",customCategory:"FA",class:"blue"},{name:":arrow-r:",img:"fas fa-arrow-right",customCategory:"FA",class:"green"},{name:":arrow-l:",img:"fas fa-arrow-left",customCategory:"FA",class:"red"},{name:":rocket:",img:"fas fa-rocket",customCategory:"FA",class:"blue"},{name:":question:",img:"fas fa-question",customCategory:"FA",class:"green"},{name:":bug:",img:"fas fa-bug",customCategory:"FA",class:"red"},{name:":exclamation:",img:"fas fa-exclamation",customCategory:"FA",class:"gray"},{name:":party_parrot:",imageUrl:"https://emojis.slackmojis.com/emojis/images/1471119458/990/party_parrot.gif?1471119458",customCategory:"Gif"},{name:":pika:",imageUrl:"https://emojis.slackmojis.com/emojis/images/1579216111/7550/pikachu_wave.gif?1579216111",customCategory:"Gif"},{name:":troll:",imageUrl:"https://emojis.slackmojis.com/emojis/images/1463602125/429/troll.png?1463602125",customCategory:"Gif"},{name:":apple:",imageUrl:"https://emojis.slackmojis.com/emojis/images/1614621881/15861/apple_tongue.gif?1614621881",customCategory:"Gif"},{name:":among_us2:",imageUrl:"https://emojis.slackmojis.com/emojis/images/1605479278/11110/crewmate.gif?1605479278",customCategory:"Gif"},{name:":among_us:",imageUrl:"https://emojis.slackmojis.com/emojis/images/1605722420/11386/among_us_orange_dance.gif?1605722420",customCategory:"Gif"},{name:":space_float:",imageUrl:"https://emojis.slackmojis.com/emojis/images/1613270271/12726/space_float.gif?1613270271",customCategory:"Gif"},{name:":rage-poop:",imageUrl:"https://emojis.slackmojis.com/emojis/images/1526489538/3928/rage-poop.png?1526489538",customCategory:"Gif"},{name:":alert:",imageUrl:"https://emojis.slackmojis.com/emojis/images/1497901371/2453/alert.gif?1497901371",customCategory:"Gif"}];function Nt(e){var t=e.onEditTask,a=e.table,r=e.task,s=e.setUpdatingText,o=Object(c.useState)(""),i=Object(fe.a)(o,2),l=i[0],d=i[1],u=Object(c.useState)(!1),j=Object(fe.a)(u,2),p=j[0],m=j[1],f=Object(c.useState)(!1),O=Object(fe.a)(f,2),h=O[0],v=O[1],g=Object(c.useRef)();Object(c.useEffect)((function(){r.text&&d(r.text)}),[r]);return Object(n.jsx)("div",{className:"task-text",onClick:function(){m(!0),s(!0),setTimeout((function(){g.current.focus()}),0)},title:l,children:p?Object(n.jsxs)("div",{className:"updating-container",children:[Object(n.jsx)("input",{type:"text",onChange:function(e){return d(e.target.value)},value:l,onBlur:function(){if(l===r.text)return m(!1),void s(!1);var e=Object(b.a)(Object(b.a)({},r),{},{text:l}),n='changed task "'.concat(r.name,'" text to "').concat(l,'"');t(a,e,n),m(!1),v(!1),s(!1)},ref:g,onKeyDown:function(e){"Enter"===e.key&&e.target.blur()}}),Object(n.jsxs)("span",{className:"".concat(h?"active":""),children:[Object(n.jsx)(Oe.f,{onClick:function(){return v((function(e){return!e}))}}),h&&Object(n.jsx)("div",{className:"modal-default-style text-modal",children:wt.map((function(e){return Object(n.jsx)("span",{onClick:function(){return d((function(t){return t+" "+e.name}))},children:"FA"===e.customCategory?Object(n.jsx)("i",{class:"".concat(e.img," ").concat(e.class," gif-img")}):Object(n.jsx)("img",{src:"".concat(e.imageUrl),className:"gif-img",alt:""})})}))})]})]}):Object(n.jsx)("div",{className:"text-content",children:Object(n.jsx)("span",{className:"dangerouslySetInnerHTML",dangerouslySetInnerHTML:{__html:function(e){var t=e;return wt.forEach((function(e){var a="";switch(e.customCategory){case"FA":a="<i class='".concat(e.img," ").concat(e.class,"'></i>");break;case"Gif":a="\n                    <img src=".concat(e.imageUrl," className='gif-img'></img>\n                    ")}for(var n="";t!==n;){n=t;var c=e.name;t=t.replace(c,a)}})),t}(l)}})})})}function Ct(e){var t=e.onEditTask,a=e.table,r=e.task,s=Object(c.useState)(!1),o=Object(fe.a)(s,2),i=o[0],l=o[1];Object(c.useEffect)((function(){r.checkBox&&l(r.checkBox)}),[r]);return Object(n.jsx)("div",{className:"task-check-box",onClick:function(){return function(e){l(e);var n=Object(b.a)(Object(b.a)({},r),{},{checkBox:e}),c="".concat(e?"unchecked":"checked",' task "').concat(n.name,'" inside ').concat(a.name);t(a,n,c)}(!i)},children:r.checkBox?Object(n.jsx)(Oe.b,{className:"icon green"}):""})}var yt=a(91),St=a.n(yt);a(164);function Tt(e){var t=e.task,a=(e.taskKey,e.onEditTask),r=e.table,s=Object(c.useState)(t.createdAt?new Date(t.createdAt):new Date),o=Object(fe.a)(s,2),i=o[0],l=o[1];Object(c.useEffect)((function(){var e=Object(b.a)(Object(b.a)({},t),{},{createdAt:i.getTime()}),n='changed date inside "'.concat(t.name,'" ');a(r,e,n)}),[i]);var d=function(e){var t=e.substr(0,3),a=parseInt(e.substr(3));return a<10&&(a=parseInt(e.substr(4))),"0"===e.substr(0,1)&&(t=e.substr(1,2)),t+function(e){switch(e){case 1:return"Jan";case 2:return"Feb";case 3:return"Mar";case 4:return"Apr";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"Aug";case 9:return"Sept";case 10:return"Oct";case 11:return"Nov";case 12:return"Dec";default:return"foo"}}(a)},u=Object(c.forwardRef)((function(e,t){var a=e.value,c=e.onClick;return Object(n.jsx)("button",{className:"custom-date-input",onClick:c,ref:t,children:d(a)})}));return Object(n.jsx)(St.a,{className:"task-date-picker",dateFormat:"dd MM",selected:i,onChange:function(e){return l(e)},customInput:Object(n.jsx)(u,{})})}function Bt(e){var t=e.openConversationModal,a=e.task,r=e.table,s=Object(c.useState)(a.conversations),o=Object(fe.a)(s,2),l=o[0],d=o[1],u=Object(i.c)();return Object(c.useEffect)((function(){d(a.conversations)}),[a]),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"task-conversation-wrapper",children:[Object(n.jsx)(ke.b,{className:"conversation-bubble",onClick:function(){u(Ke({taskId:a._id,tableId:r._id})),t()}}),l.length>0&&Object(n.jsx)("div",{className:"conversations-count",children:l.length}),Object(n.jsx)("span",{className:"label-text arrow-down",children:"Start conversation"})]})})}function _t(e){var t=e.task,a=e.table,r=e.onEditTask,s=Object(i.c)(),o=Object(i.d)((function(e){return e.user.users})),l=Object(c.useState)(null),d=Object(fe.a)(l,2),u=d[0],j=d[1],p=Object(c.useState)(null),m=Object(fe.a)(p,2),O=m[0],h=m[1],v=Object(c.useState)(""),g=Object(fe.a)(v,2),x=g[0],k=g[1],w=Object(c.useRef)(null);Object(c.useEffect)((function(){s(Y())}),[s]),Object(c.useEffect)((function(){var e,a,n,c=o.filter((function(e){return t.owner.includes(e._id)})),r=Object(f.a)(t.owner),s=(a=r,n="_id",(e=c).sort((function(e,t){var c=e[n],r=t[n];return a.indexOf(c)>a.indexOf(r)?1:-1})),e);j(s)}),[t,o]),Object(c.useEffect)((function(){if(u){var e=[];u.map((function(t){return e.push(t._id)})),h(o.filter((function(t){return!e.includes(t._id)})))}}),[o,u]);var N=function(e){for(var t=[],a=0;a<e.length;a++)t.push(Object(n.jsx)("span",{className:"".concat(x.toLowerCase().includes(e[a].toLowerCase())?"bold":""),children:e[a]}));return t};function C(){for(var e=[],t=0;t<12;t++)e.push(Object(n.jsx)("span",{className:"title-line",children:"-"}));return e}return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"owners-container",children:u&&u.map((function(e){return Object(n.jsxs)("div",{className:"owner-details",children:[Object(n.jsx)("img",{className:"user-img",src:"".concat(e.avatar),alt:"",srcset:""}),Object(n.jsx)("span",{className:"user-name",children:e.username}),Object(n.jsx)("span",{className:"remove-user",onClick:function(){!function(e,n){var c=Object(b.a)(Object(b.a)({},t),{},{owner:t.owner.filter((function(t){return t!==e}))}),s='removed owner "'.concat(n,'" from task "').concat(c.name,'" inside "').concat(a.name,'"');r(a,c,s)}(e._id,e.username)},children:"x"})]})}))}),Object(n.jsx)("input",{type:"text",placeholder:"Enter name",className:"owner-modal-input",ref:w,onChange:function(e){return k(e.target.value)}}),Object(n.jsxs)("div",{className:"title",children:[C(),Object(n.jsx)("span",{className:"title-contant",children:" People "}),C()]}),Object(n.jsx)("div",{className:"owner-list-wrapper",children:O&&O.map((function(e){return e.username.toLowerCase().includes(x.toLowerCase())?Object(n.jsxs)("div",{className:"user-details",onClick:function(){!function(e,n){var c=Object(b.a)(Object(b.a)({},t),{},{owner:[].concat(Object(f.a)(t.owner),[e])}),s='added new owner "'.concat(n,'" to task "').concat(c.name,'" inside "').concat(a.name,'"');r(a,c,s)}(e._id,e.username)},children:[Object(n.jsx)("img",{className:"user-img",src:"".concat(e.avatar),alt:"",srcset:""}),Object(n.jsx)("span",{className:"user-name",children:N(e.username)})]}):null}))})]})}function Et(e){var t=e.label,a=e.onEditBoardLabel,r=e.onRemoveLabelFromBoard,s=Object(c.useState)(!1),o=Object(fe.a)(s,2),i=o[0],l=o[1],d=Object(c.useState)(t),u=Object(fe.a)(d,2),j=u[0],p=u[1];return Object(c.useEffect)((function(){p(t)}),[t]),Object(n.jsxs)("div",{className:"edit-label-wrapper",children:[i?Object(n.jsx)("input",{type:"text",value:j.name,onChange:function(e){return p(Object(b.a)(Object(b.a)({},t),{},{name:e.target.value}))},onBlur:function(){l(!1),a(t,j)},onKeyDown:function(e){if("Enter"===e.key){if(e.target.value.trim().length<1)return p(t),void l(!1);e.target.blur()}}}):Object(n.jsx)("span",{className:"dropdown-baord-label",onClick:function(){return l(!0)},children:j.name}),Object(n.jsx)("span",{onClick:function(){return r(j)},children:Object(n.jsx)(bt.b,{className:"close-btn"})})]})}function Lt(e){var t=e.task,a=e.table,r=e.onEditTask,s=e.onEditBoard,o=Object(i.d)((function(e){return e.workspace.currBoard})),l=Object(c.useState)(o.dropdownLabels),d=Object(fe.a)(l,2),u=d[0],j=d[1],p=Object(c.useState)([]),m=Object(fe.a)(p,2),O=m[0],h=m[1],v=Object(c.useState)(o.dropdownLabels),g=Object(fe.a)(v,2),x=g[0],k=g[1],w=Object(c.useState)({name:"",_id:""}),N=Object(fe.a)(w,2),C=N[0],y=N[1],S=Object(c.useState)(!1),T=Object(fe.a)(S,2),B=T[0],_=T[1],E=Object(c.useState)(""),L=Object(fe.a)(E,2),A=L[0],D=L[1];function I(){if(""!==C.name&&(!C.name||""!==C.name.trim())){var e='added new label "'.concat(C.name,'" to dropdown labels'),t=Object(b.a)(Object(b.a)({},o),{},{dropdownLabels:[].concat(Object(f.a)(o.dropdownLabels),[C])});s(t,e),y({name:"",_id:""}),D("")}}function F(e,t){var a='updated label from "'.concat(e.name,'" to "').concat(t.name,'" in dropdown labels'),n=Object(b.a)(Object(b.a)({},o),{},{dropdownLabels:o.dropdownLabels.map((function(e){return e._id===t._id?t:e}))});s(n,a),y({name:"",_id:""})}function U(e){var t='removed label "'.concat(e.name,'" from dropdown labels'),a=Object(b.a)(Object(b.a)({},o),{},{dropdownLabels:o.dropdownLabels.filter((function(t){return t._id!==e._id}))});s(a,t),y({name:"",_id:""})}return Object(c.useEffect)((function(){j(o.dropdownLabels)}),[o.dropdownLabels]),Object(c.useEffect)((function(){t.dropdown&&h(t.dropdown)}),[t]),Object(c.useEffect)((function(){var e=[];t.dropdown.map((function(t){return e.push(t._id)}));var a=o.dropdownLabels.filter((function(t){return!e.includes(t._id)}));""===A&&k(a),""!==A&&a.length>0&&k(a.filter((function(e){return e.name.toLowerCase().includes(A)})))}),[t.dropdown,o.dropdownLabels,A]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"modal-content-wrapper",children:[O.length>0&&Object(n.jsx)("div",{className:"task-dropdown-labels",children:O.map((function(e){return Object(n.jsxs)("div",{className:"dropdown-label",children:[Object(n.jsx)("span",{children:e.name})," ",Object(n.jsx)("span",{onClick:function(){return function(e){var n=Object(b.a)(Object(b.a)({},t),{},{dropdown:t.dropdown.filter((function(t){return t._id!==e._id}))}),c='removed label "'.concat(e.name,'" form task "').concat(t.name,'" dropdown column');r(a,n,c)}(e)},children:"x"})]})}))}),Object(n.jsx)("input",{type:"text",placeholder:"".concat(u.length>0?"Create or find labels":"Create a label"),value:C.name,onChange:function(e){y({name:e.target.value,_id:Date.now()}),D(e.target.value.toLowerCase())},onKeyDown:function(e){if("Enter"===e.key){if(e.target.value.trim().length<1)return;y({name:e.target.value,_id:Date.now()}),I()}}}),x.length>0&&Object(n.jsx)("div",{className:"baord-dropdown-labels ".concat(B?"":"aplay"),children:x.map((function(e){return B?Object(n.jsx)(Et,{label:e,onEditBoardLabel:F,onRemoveLabelFromBoard:U}):Object(n.jsx)("div",{className:"dropdown-baord-label",onClick:function(){return function(e){var n=Object(b.a)(Object(b.a)({},t),{},{dropdown:[].concat(Object(f.a)(t.dropdown),[e])}),c='added new label "'.concat(e.name,'" to task "').concat(t.name,'" dropdown column');r(a,n,c)}(e)},children:e.name})}))}),Object(n.jsx)("div",{className:"create-btn ".concat(C.name?"add":""),onClick:I,children:"+ Create new label"})]}),Object(n.jsx)("div",{className:"edit-btn",onClick:function(){return _((function(e){return!e}))},children:B?"Apply":"Edit labels"})]})}function At(e){var t=e.onEditTask,a=e.table,r=e.task,s=e.setUpdatingNumbers,o=Object(c.useState)(""),i=Object(fe.a)(o,2),l=i[0],d=i[1],u=Object(c.useState)(!1),j=Object(fe.a)(u,2),p=j[0],m=j[1],f=Object(c.useRef)();Object(c.useEffect)((function(){r.numbers&&d(r.numbers)}),[r]);return Object(n.jsx)("div",{className:"task-text numbers",onClick:function(){m(!0),s(!0),setTimeout((function(){f.current.focus()}),0)},title:l,children:p?Object(n.jsx)("div",{className:"updating-container",children:Object(n.jsx)("input",{type:"number",className:"numbers",onChange:function(e){return d(e.target.value)},value:l,onBlur:function(){if(l===r.numbers)return m(!1),void s(!1);var e=Object(b.a)(Object(b.a)({},r),{},{numbers:l}),n='changed task "'.concat(r.name,'" numbers to "').concat(l,'"');t(a,e,n),m(!1),s(!1)},ref:f,onKeyDown:function(e){"Enter"===e.key&&e.target.blur()}})}):Object(n.jsx)("div",{className:"text-content",children:Object(n.jsx)("span",{children:l})})})}function Dt(e){var t=e.task,a=e.taskKey,r=e.onEditTask,s=e.table,o=Object(c.useState)(t.timeline.from?new Date(t.timeline.from):new Date),i=Object(fe.a)(o,2),l=i[0],d=i[1],u=Object(c.useState)(t.timeline.to?new Date(t.timeline.to):null),j=Object(fe.a)(u,2),p=j[0],m=j[1],f=Object(c.useState)(!1),O=Object(fe.a)(f,2),h=O[0],v=O[1],g=Object(c.useState)(""),x=Object(fe.a)(g,2),k=x[0],w=x[1],N=Object(c.useState)(""),C=Object(fe.a)(N,2),y=C[0],S=C[1],T=Object(c.useState)(""),B=Object(fe.a)(T,2),_=B[0],E=B[1];function L(){if(null===p){var e=new Intl.DateTimeFormat("en").formatToParts(l),t=e.filter((function(e){return"day"===e.type}))[0].value,a=A(parseInt(e.filter((function(e){return"month"===e.type}))[0].value));w("".concat(a," ").concat(t))}else{var n=new Intl.DateTimeFormat("en"),c=n.formatToParts(l),r=n.formatToParts(p),s=c.filter((function(e){return"day"===e.type}))[0].value,o=r.filter((function(e){return"day"===e.type}))[0].value,i=parseInt(c.filter((function(e){return"month"===e.type}))[0].value),d=parseInt(r.filter((function(e){return"month"===e.type}))[0].value),u=A(i),b=A(d);w(u===b?"".concat(u," ").concat(s," - ").concat(o):"".concat(u," ").concat(s," - ").concat(b," ").concat(o))}!function(e,t){if(t){var a=t.getTime()-e.getTime();S(Math.round(a/864e5)+1)}else S(1)}(l,p)}function A(e){switch(e){case 1:return"Jan";case 2:return"Feb";case 3:return"Mar";case 4:return"Apr";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"Aug";case 9:return"Sept";case 10:return"Oct";case 11:return"Nov";case 12:return"Dec";default:return"foo"}}return Object(c.useEffect)((function(){if(p){w("");var e=Object(b.a)(Object(b.a)({},t),{},{timeline:{from:l.getTime(),to:p.getTime()}}),a='added new timeline inside "'.concat(t.name,'" ');r(s,e,a),L()}}),[p]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"timeline-task-container",onClick:function(){return v((function(e){return!e}))},onMouseEnter:function(){return E(!0)},onMouseLeave:function(){return E(!1)},children:[Object(n.jsx)("div",{className:"timeline-content ".concat(t[a].from||t[a].to?"dates":"empty"," ").concat(h?"updating":""),children:(t[a].from||t[a].to)&&Object(n.jsx)("div",{children:_?y+"d":k})}),(t[a].from||t[a].to)&&Object(n.jsx)(bt.b,{className:"timeline-delete-btn",onClick:function(){d(new Date),m(null);var e=Object(b.a)(Object(b.a)({},t),{},{timeline:{from:"",to:""}}),a='removed timeline from "'.concat(t.name,'" ');r(s,e,a)}})]}),h&&Object(n.jsx)("div",{className:"datePicker-wrapper",children:Object(n.jsx)(St.a,{closeOnScroll:!0,selected:l,onChange:function(e){var t=Object(fe.a)(e,2),a=t[0],n=t[1];d(a),m(n)},startDate:l,endDate:p,selectsRange:!0,inline:!0})})]})}var It=a(64),Ft=a(70),Ut=a.n(Ft);function Mt(e){var t=e.task,a=e.taskKeys,s=e.table,o=e.board,l=e.onEditBoard,d=e.provided,u=e.isDragging,j=e.openConversationModal,p=e.onEditTable,m=e.onEditTask,O=e.unCheckTasks,h=Object(i.d)((function(e){return e.user.users})),v=Object(i.d)((function(e){return e.user.loggedInUser})),g=Object(i.d)((function(e){return e.workspace.checkedTasks})),x=Object(c.useState)(t),k=Object(fe.a)(x,2),w=k[0],y=k[1],S=Object(c.useState)(!1),T=Object(fe.a)(S,2),B=T[0],_=T[1],E=Object(c.useState)(!1),L=Object(fe.a)(E,2),A=L[0],D=L[1],I=Object(c.useState)(!1),F=Object(fe.a)(I,2),U=F[0],M=F[1],W=Object(c.useState)(!1),R=Object(fe.a)(W,2),P=R[0],K=R[1],G=Object(c.useState)(!1),V=Object(fe.a)(G,2),H=(V[0],V[1],Object(c.useState)(!1)),z=Object(fe.a)(H,2),J=z[0],q=z[1],X=Object(c.useState)(!1),Q=Object(fe.a)(X,2),Z=Q[0],$=Q[1],ee=Object(c.useState)(!1),te=Object(fe.a)(ee,2),ae=te[0],ne=te[1],ce=Object(c.useState)(null),re=Object(fe.a)(ce,2),se=re[0],oe=re[1],ie=Object(c.useState)(0),le=Object(fe.a)(ie,2),de=le[0],ue=le[1],be=Object(c.useState)(t.owner),je=Object(fe.a)(be,2),pe=je[0],me=je[1],he=Object(c.useRef)(),ve=Object(c.useRef)(),ge=(Object(c.useRef)(null),Object(c.useRef)(null),Object(i.c)()),xe=Object(c.useState)({}),ke=Object(fe.a)(xe,2),we=ke[0],Ne=ke[1],Ce=Object(c.useState)(""),ye=Object(fe.a)(Ce,2),Se=ye[0],Te=ye[1],Be=Object(c.useRef)(null),_e=Object(c.useState)(!1),Ee=Object(fe.a)(_e,2),Ae=Ee[0],De=Ee[1],Ie=Object(c.useState)(!1),Fe=Object(fe.a)(Ie,2),Ue=Fe[0],Me=Fe[1];Object(c.useEffect)((function(){ge(Y())}),[ge]),Object(c.useEffect)((function(){var e,a,n,c=h.filter((function(e){return t.owner.includes(e._id)})),r=Object(f.a)(t.owner),s=(a=r,n="_id",(e=c).sort((function(e,t){var c=e[n],r=t[n];return a.indexOf(c)>a.indexOf(r)?1:-1})),e);me(s)}),[t,h,v]),Object(c.useEffect)((function(){var e,a={_id:t._id,table:s};ge(ae?function(e){return function(){var t=Object(C.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:"ADD_CHECKED_TASK",currCheckedTask:e})}catch(n){console.log("WorkspaceActions: err in ADD_CHECKED_TASK",n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a):(e=t._id,function(){var t=Object(C.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:"REMOVE_CHECKED_TASK",taskId:e})}catch(n){console.log("WorkspaceActions: err in REMOVE_CHECKED_TASK",n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[ae,ge,t._id,s]),Object(c.useEffect)((function(){O&&ne(!1)}),[O]),Object(c.useEffect)((function(){y(t)}),[t]),Object(c.useEffect)((function(){B&&setTimeout((function(){ve.current.focus()}),0)}),[B]),Object(c.useEffect)((function(){A&&(y(t),he.current.focus())}),[A,t]);var We=function(){setTimeout((function(){document.execCommand("selectAll",!1,null)}),0)},Re=function(e){y(Object(b.a)(Object(b.a)({},w),{},{name:e.target.value}))};Object(c.useEffect)((function(){var e=setInterval((function(){Pe()}),1e3);return function(){return clearInterval(e)}}),[de]),Object(c.useEffect)((function(){Pe()}),[]),Object(c.useEffect)((function(){Pe(),ue((function(e){return e+1}))}),[t]);var Pe=function(){var e=Ut()(t.lastUpdated.date).fromNow();"a few seconds ago"===e&&(e="Just now"),oe(e)},Ge=function(e){return h.filter((function(t){return t._id===e}))[0]},Ve=function(e){var t=e.clientY>window.innerHeight/2?"-100%":"0",a=e.clientX>window.innerWidth/2?"-100%":"0",n={x:e.nativeEvent.offsetX,y:e.nativeEvent.offsetY,width:e.nativeEvent.offsetWidth},c={width:Be.current?Be.current.offsetWidth:0,height:Be.current?Be.current.offsetHeight:0},r={top:e.clientY,left:e.clientX,transform:"translate(".concat(a,", ").concat(t,")")};Ne(r),console.log("ModalPosition123:",r),console.log("ev.clientY:",e.clientY),console.log("window.innerHeight:",window.innerHeight),console.log("ev.clientX:",e.clientX),console.log("window.innerWidth:",window.innerWidth),console.log("divSizes:",c),console.log("divOffsetS:",n)},He=function(e){var a=[];switch(e){case"name":a.push(Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsxs)("div",{className:"task-name-wrapper",children:[Object(n.jsx)("span",{className:"task-name-span ".concat(A?"task-name-span-updating":""),children:A?Object(n.jsx)("input",{className:"task-name",onFocus:We,type:"text",name:"name",ref:he,value:w[e],onChange:Re,onBlur:function(){if(w.name!==t.name){var e="changed the task name from ".concat(t.name," to ").concat(w.name),a=Object(b.a)(Object(b.a)({},t),{},{name:w.name});m(s,a,e),D(!1)}},onKeyDown:function(e){"Enter"===e.key&&e.target.blur()}}):Object(n.jsx)("span",{onClick:function(){ge(Ke({taskId:t._id,tableId:s._id})),j()},children:t[e]})}),Object(n.jsx)(Oe.c,{className:"FaPencilAlt",onClick:function(){D(!0)}})]}),Object(n.jsx)(Bt,{table:s,task:t,openConversationModal:j})]}));break;case"owner":a.push(Object(n.jsx)("div",{className:"add-cell-content-btn-wrapper ".concat(t[e].length>0?"add-more":"add-first"),children:Object(n.jsx)(Le.l,{className:"add-owner ".concat(U?"active":"")})})),t[e].length>0&&pe.length>0?a.push(Object(n.jsxs)("div",{className:"owner-container",children:[Object(n.jsx)("div",{className:"owner-avatar-wrapper",children:Object(n.jsx)("img",{src:"".concat(pe[0].avatar),alt:""})}),t[e].length>1?Object(n.jsxs)("div",{className:"owners-count",children:["+",t[e].length-1]}):null]})):a.push(Object(n.jsx)(Oe.h,{style:{width:"30px",height:"30px",color:"rgb(180, 182, 188)"}}));break;case"createdAt":t[e]?a.push(Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(Tt,{task:t,taskKey:e,onEditTask:m,table:s})})):a.push(Object(n.jsx)(Tt,{task:t,taskKey:e,onEditTask:m,table:s}));break;case"text":a.push(Object(n.jsx)(Nt,{onEditTask:m,task:t,table:s,setUpdatingText:q}));break;case"numbers":a.push(Object(n.jsx)(At,{onEditTask:m,task:t,table:s,setUpdatingNumbers:$}));break;case"checkBox":a.push(Object(n.jsx)(Ct,{onEditTask:m,task:t,table:s}));break;case"lastUpdated":t[e]&&t[e].date&&a.push(Object(n.jsxs)("div",{className:"last-updated-task-container",children:[Object(n.jsx)("div",{className:"avatar-wrapper",children:Ge(t[e].byUser)&&Object(n.jsx)("img",{src:"".concat(Ge(t[e].byUser).avatar),alt:""})}),Object(n.jsx)("span",{children:se})]}));break;case"timeline":a.push(Object(n.jsx)(Dt,{task:t,taskKey:e,onEditTask:m,table:s}));break;case"dropdown":a.push(Object(n.jsx)("div",{className:"add-cell-content-btn-wrapper dropdown add-first",children:Object(n.jsx)(Le.l,{className:"add-owner ".concat(P?"active":"")})})),t[e].length>0&&a.push(Object(n.jsxs)("div",{className:"dropdown-container",children:[Object(n.jsx)("div",{className:"labels-container",children:t[e].length>1?t[e].slice(0,2).map((function(e){return Object(n.jsx)("div",{className:"label-wrapper",title:e.name,children:e.name.length>8?Object(n.jsx)("div",{className:"ellipsis-wrapper",children:e.name}):Object(n.jsx)(n.Fragment,{children:e.name})})})):t[e][0]?Object(n.jsx)("div",{className:"label-wrapper ",children:t[e][0].name.length>8?Object(n.jsx)("div",{className:"ellipsis-wrapper",title:t[e][0].name,children:t[e][0].name}):Object(n.jsx)(n.Fragment,{children:t[e][0].name})}):null}),t[e].length>2?Object(n.jsxs)("div",{className:"dropdown-label-count",children:["+",t[e].length-2]}):null]}));break;default:a.push(t[e])}return a};var ze=function(e){switch(e){case"text":return"text-style";case"numbers":return"numbers-style";case"checkBox":return"checkBox-style";case"lastUpdated":return"lastUpdated-style";case"dropdown":return"dropdown-style ".concat(t.dropdown.length>0?"not-empty":"");case"timeline":return"timeline-style ".concat(t.timeline.from?"not-empty":"");default:return""}},Je=function(){Ue||(De(!1),Ye())},qe=function(){De((function(e){return!e}))},Xe=function(){Me(!0)},Ye=function(){Me(!1)};return t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",Object(b.a)(Object(b.a)(Object(b.a)({className:"table-row-wrapper ".concat(u?"task-dragging":""),ref:d.innerRef},d.draggableProps),d.dragHandleProps),{},{children:[Object(n.jsx)("div",{className:"options-wrapper",children:Object(n.jsxs)("div",{className:"options-btn ".concat(B?"options-btn-visible":""),onClick:function(){return _(!0)},tabIndex:"0",ref:ve,onBlur:function(){return _(!1)},children:[Object(n.jsx)("div",{className:"TiArrowSortedDown-wrapper   TiArrowSortedDown-task-wrapper",children:Object(n.jsx)(ft.a,{})}),B&&Object(n.jsxs)("div",{className:"options-modal task-options-modal",children:[Object(n.jsxs)("div",{className:"modal-btn item-actions-btn",children:[Object(n.jsx)(Oe.c,{className:"icon"}),Object(n.jsx)("span",{onClick:function(){D(!0),_(!1)},children:"Rename Item"})]}),Object(n.jsx)("div",{className:"delete-btn-wrapper",children:Object(n.jsxs)("div",{className:"modal-btn item-actions-btn",onClick:function(){return function(e){var t=Object(b.a)(Object(b.a)({},s),{},{tasks:s.tasks.filter((function(t){return t._id!==e._id}))}),a='removed the task "'.concat(e.name,'" from "').concat(s.name,'"');p(t,a),_(!1)}(t)},children:[Object(n.jsx)(Le.r,{className:"icon"}),Object(n.jsx)("span",{children:"Delete"})]})})]})]})}),Object(n.jsxs)("div",{className:"table-row task-row",children:[a.map((function(e){return"status"===e?Object(n.jsxs)("div",{className:"table-cell task-cell",tabIndex:"0",onBlur:Je,children:[Object(n.jsx)("div",{className:"task-cell-status",style:{backgroundColor:"".concat(t.status.color)},onClick:qe,children:Object(n.jsx)("div",{className:"cell-content-wrapper",children:t[e].name})}),Object(n.jsx)("div",{className:"status-container",children:Ae&&Object(n.jsx)(kt,{taskKey:e,task:t,table:s,FaPencilAlt:Oe.c,onEditTask:m,board:o,onEditBoard:l,isStatusModalOpen:Ae,isEditLabelsModalOpen:Ue,openEditLabelsModal:Xe,closeEditLabelsModal:Ye,setIsStatusModalOpen:De})})]}):Object(n.jsxs)("div",{className:"table-cell task-cell ".concat(ze(e)," ").concat(Ot(e)," ").concat(J?"updating-text":""," ").concat(Z?"updating-numbers":"","\n                    "),ref:Be,onClick:function(t){"owner"!==e&&"dropdown"!==e||(console.log("open-owner-modal"),function(e,t){Ve(t),Te(e),"owner"===e&&M(!0),"dropdown"===e&&K(!0),"status"===e&&De(!0)}(e,t))},children:[Object(n.jsx)("div",{className:"decoration-line task-line ".concat(g.length>0?"open":""),style:{backgroundColor:"".concat(s.color)},children:Object(n.jsx)("div",{className:"task-line-square ".concat(ae?"checked":""),onClick:function(){return ne((function(e){return!e}))},children:ae&&Object(n.jsx)(It.a,{style:{color:"".concat(s.color)}})})}),Object(n.jsx)("div",{className:"cell-content-wrapper ".concat("name"===e?"name-wrapper-cell":"","\n                        ").concat("dropdown"===e?"dropdown-wrapper-cell":"","\n                        "),children:He(e)})]})})),Object(n.jsx)("div",{className:"table-cell task-cell",ref:Be})]})]})),(U||P)&&Object(n.jsx)("div",{className:"modal-screen-wrapper",onClick:function(){M(!1),K(!1),Je()},children:Object(n.jsxs)("div",{className:"modal-default-style ".concat(function(){switch(!0){case"owner"===Se:return"owner-modal";case"dropdown"===Se:return"dropdown-modal"}}()),style:Object(b.a)({},we),onClick:function(e){return e.stopPropagation()},children:[U&&Object(n.jsx)(_t,{task:t,onEditTask:m,table:s,setToggleOwnerModal:M}),P&&Object(n.jsx)(Lt,{task:t,onEditTask:m,table:s,setToggleDropdownModal:K,onEditBoard:l})]})})]}):Object(n.jsx)("div",{children:"Loading...."})}function Wt(e){var t=e.toggleTitleOptionsModal,a=e.isShownTitleOptionsModal,r=e.closeTitleOptionsModal,s=e.tableColumn,o=e.onEditBoard,l=(e.table,e.onEditTable,e.onEditTask,Object(i.d)((function(e){return e.user.loggedInUser}))),d=Object(i.d)((function(e){return e.workspace.currBoard})),u=Object(c.useRef)(),j=function(e){switch(e){case"owner":case"dropdown":case"tags":return[];case"status":return{name:"",color:"rgb(180, 182, 188)"};case"timeline":return{from:"",to:""};case"lastUpdated":return{byUser:"",date:""};default:return null}};Object(c.useEffect)((function(){a&&u&&u.current&&u.current.focus()}),[a]);return Object(n.jsxs)("div",{className:"title-cell-options-wrapper",children:[Object(n.jsx)("div",{className:"title-cell-options-btn ".concat(a?"updating":""),onClick:t,children:Object(n.jsx)(ft.a,{})}),a&&Object(n.jsxs)("div",{className:"modal-default-style title-cell-options-modal",ref:u,tabIndex:"0",onBlur:function(){r()},children:[Object(n.jsxs)("div",{className:"delete-btn modal-btn",onClick:function(){var e="hide '".concat(s.taskKey,"' column"),t=Object(b.a)(Object(b.a)({},d),{},{tableColumns:d.tableColumns.filter((function(e){return e._id!==s._id})),activities:[{desc:e,userId:l._id,createdAt:Date.now()}].concat(Object(f.a)(d.activities))});o(t)},children:[Object(n.jsx)(he.d,{className:"icon"}),Object(n.jsx)("span",{children:"Hide column"})]}),Object(n.jsxs)("div",{className:"delete-btn modal-btn",onClick:function(){var e=[],t="removed '".concat(s.taskKey,"' column");d.tables.forEach((function(t){var a=Object(b.a)(Object(b.a)({},t),{},{tasks:t.tasks.flatMap((function(e){return[Object(b.a)(Object(b.a)({},e),{},Object(te.a)({},"".concat(s.taskKey),j(s.taskKey)))]}))});e.push(a)}));var a=Object(b.a)(Object(b.a)({},d),{},{tables:d.tables.map((function(t){return e.find((function(e){return e._id===t._id}))||t})),tableColumns:d.tableColumns.filter((function(e){return e._id!==s._id})),activities:[{desc:t,userId:l._id,createdAt:Date.now()}].concat(Object(f.a)(d.activities))});o(a)},children:[Object(n.jsx)(Ce.b,{className:"icon"}),Object(n.jsx)("span",{children:"Delete column"})]})]})]})}var Rt=function(e){Object(T.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(y.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={table:{},board:{},currTableColumn:{},isDivOnFocus:!1,isShownTitleOptionsModal:!1},e.focusText=function(){setTimeout((function(){document.execCommand("selectAll",!1,null)}),0)},e.handleChangeGroupName=function(t){e.setState({table:Object(b.a)(Object(b.a)({},e.state.table),{},{name:t.target.value})})},e.handleChangeGroupTitle=function(t){e.setState({currTableColumn:Object(b.a)(Object(b.a)({},e.props.tableColumn),{},{title:t.target.value})},(function(){e.setState({board:Object(b.a)(Object(b.a)({},e.props.board),{},{tableColumns:e.props.board.tableColumns.map((function(t){return t._id===e.state.currTableColumn._id?e.state.currTableColumn:t}))})})}))},e.toggleFocusOnDiv=function(t){e.setState({isDivOnFocus:t})},e.changeToContentEditable=function(t){var a=e.props.dragHandle,c=[];return"name"===t.taskKey?c.push(Object(n.jsxs)("div",{className:"".concat(e.props.isOpenTableColorModal?"":"table-name-wrapper"),tabIndex:"0",onClick:function(){return e.toggleFocusOnDiv(!0)},onBlur:function(){e.toggleFocusOnDiv(!1),e.props.closeTableColorModal()},children:[Object(n.jsxs)("div",{className:"table-actions",children:[e.props.isExpand?Object(n.jsx)(Ae.i,{className:"shrink-btn",onClick:function(){return e.props.toggleExpandeTable(!1)}}):Object(n.jsx)(Ye.b,{className:"expand-btn",onClick:function(){return e.props.toggleExpandeTable(!0)}}),Object(n.jsx)("div",Object(b.a)(Object(b.a)({className:"drag-btn"},a.dragHandleProps),{},{children:Object(n.jsx)(he.c,{})}))]}),Object(n.jsx)(lt.a,{onFocus:e.focusText,className:"content-editable ".concat(e.props.isOpenTableColorModal?"focus":""),innerRef:e.editableGroupName,html:e.state.table.name,disabled:!1,onChange:e.handleChangeGroupName,onBlur:function(){if(e.props.table.name!==e.state.table.name){var t='changed group name from "'.concat(e.props.table.name,'" to "').concat(e.state.table.name,'"'),a=Object(b.a)(Object(b.a)({},e.props.table),{},{name:e.state.table.name});e.props.onEditTable(a,t)}},onKeyDown:function(e){"Enter"===e.key&&e.target.blur()}})]})):c.push(Object(n.jsx)(lt.a,{onFocus:e.focusText,className:"content-editable",innerRef:e.editableGroupTitle,html:e.state.currTableColumn.title,disabled:!1,onChange:e.handleChangeGroupTitle,onBlur:function(){if(e.props.tableColumn.title!==e.state.currTableColumn.title){var t="changed the table column name from ".concat(e.props.tableColumn.title," to ").concat(e.state.currTableColumn.title),a=Object(b.a)(Object(b.a)({},e.props.board),{},{tableColumns:Object(f.a)(e.state.board.tableColumns),activities:[{desc:t,userId:e.props.loggedInUser._id,createdAt:Date.now()}].concat(Object(f.a)(e.props.board.activities))});e.props.onEditBoard(a)}},onKeyDown:function(e){"Enter"===e.key&&e.target.blur()}})),c},e.getTitleColumnStyle=function(e){switch(e){case"checkBox":return"checkBox-title";default:return""}},e.toggleTitleOptionsModal=function(){e.setState({isShownTitleOptionsModal:!e.state.isShownTitleOptionsModal})},e.closeTitleOptionsModal=function(){e.setState({isShownTitleOptionsModal:!1})},e}return Object(S.a)(a,[{key:"componentDidMount",value:function(){this.setState({table:this.props.table}),this.setState({board:this.props.board}),this.setState({currTableColumn:this.props.tableColumn}),this.editableGroupName=r.a.createRef(),this.editableGroupTitle=r.a.createRef()}},{key:"componentDidUpdate",value:function(e,t){t.currTableColumn.title!==this.state.currTableColumn.title&&this.setState({board:this.props.board}),e.tableColumn.title!==this.props.tableColumn.title&&this.setState({board:this.props.board}),e.board!==this.props.board&&(this.setState({board:this.props.board}),this.setState({currTableColumn:this.props.tableColumn}))}},{key:"render",value:function(){var e=this.props,t=(e.board,e.tableColumn),a=e.table,c=e.IoMdNotifications;return t?Object(n.jsx)("div",{className:"table-cell title-cell ".concat(this.getTitleColumnStyle(t.taskKey)," ").concat(Ot(t.taskKey)," ").concat(this.state.isShownTitleOptionsModal?"updating":""),style:{color:"".concat(a.color)},children:"createdAt"===t.taskKey?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"date-title-wrapper",children:[Object(n.jsx)(c,{style:{width:"18px",height:"18px"}}),Object(n.jsx)("span",{children:this.changeToContentEditable(t)})]}),Object(n.jsx)(Wt,{toggleTitleOptionsModal:this.toggleTitleOptionsModal,isShownTitleOptionsModal:this.state.isShownTitleOptionsModal,closeTitleOptionsModal:this.closeTitleOptionsModal,tableColumn:this.props.tableColumn,table:this.props.table,onEditBoard:this.props.onEditBoard,onEditTable:this.props.onEditTable,onEditTask:this.props.onEditTask})]}):Object(n.jsxs)(n.Fragment,{children:[this.changeToContentEditable(t),Object(n.jsx)(Wt,{toggleTitleOptionsModal:this.toggleTitleOptionsModal,isShownTitleOptionsModal:this.state.isShownTitleOptionsModal,closeTitleOptionsModal:this.closeTitleOptionsModal,tableColumn:this.props.tableColumn,table:this.props.table,onEditBoard:this.props.onEditBoard,onEditTable:this.props.onEditTable,onEditTask:this.props.onEditTask})]})},t._id):Object(n.jsx)("div",{children:"Loading...."})}}]),a}(c.Component),Pt=Object(i.b)((function(e){return{loggedInUser:e.user.loggedInUser}}))(Rt),Kt=a(207);function Gt(e){var t=e.taskKeys,a=e.table,r=e.IoMdNotifications,s=e.HiPlusCircle,o=e.onAddNewTask,l=e.onEditTask,d=e.onEditTable,u=e.onEditBoard,j=e.onRemoveTask,p=e.removeTable,m=e.openConversationModal,O=e.dragHandle,h=e.isDragging,v=e.isShrink,g=e.onShrink,x=e.search,k=e.unCheckTasks,w=(e.provided,e.updateBoard),N=Object(i.d)((function(e){return e.user.users})),C=Object(i.d)((function(e){return e.user.loggedInUser})),y=Object(i.d)((function(e){return e.workspace.currBoard})),S=Object(c.useState)(""),T=Object(fe.a)(S,2),B=T[0],_=T[1],E=Object(c.useState)(!1),L=Object(fe.a)(E,2),A=L[0],D=L[1],I=Object(c.useState)(!1),F=Object(fe.a)(I,2),U=F[0],M=F[1],W=Object(c.useState)(!1),R=Object(fe.a)(W,2),P=R[0],K=R[1],G=Object(c.useState)(!1),V=Object(fe.a)(G,2),H=V[0],z=V[1],J=Object(c.useState)(a),q=Object(fe.a)(J,2),X=q[0],Q=q[1],Z=Object(c.useState)(!0),$=Object(fe.a)(Z,2),ee=$[0],te=$[1],ae=Object(c.useState)([]),ne=Object(fe.a)(ae,2),ce=ne[0],re=ne[1],se=Object(c.useState)({}),oe=Object(fe.a)(se,2),ie=oe[0],le=oe[1],de=Object(c.useState)([]),ue=Object(fe.a)(de,2),be=ue[0],je=ue[1],pe=Object(c.useState)([]),me=Object(fe.a)(pe,2),ve=me[0],ge=me[1],xe=Object(c.useRef)(null),we=Object(c.useState)(!1),Ce=Object(fe.a)(we,2),Se=Ce[0],Te=Ce[1],Be=Object(i.c)();Object(c.useEffect)((function(){Be(Y())}),[Be]),Object(c.useEffect)((function(){var e=[];a.tasks.map((function(t){return e=[].concat(Object(f.a)(e),Object(f.a)(t.owner))}));var t,n,c,r=Object(f.a)(new Set(e)),s=N.filter((function(e){return r.includes(e._id)})),o=(n=r,c="_id",(t=s).sort((function(e,t){var a=e[c],r=t[c];return n.indexOf(a)>n.indexOf(r)?1:-1})),t);re(o)}),[a,a.tasks,B,N]),Object(c.useEffect)((function(){var e=[],t=[];a.tasks.map((function(a,n){e=[].concat(Object(f.a)(e),[a.status]),t=[].concat(Object(f.a)(t),[a.status.name])}));var n=e.sort((function(e,t){return e.name.localeCompare(t.name)}));ge(e.length);var c=t.sort((function(e,t){return e.localeCompare(t)})),r=Object(f.a)(new Set(c));je(r);var s={};r.map((function(e){return s["".concat(e)]={num:n.filter((function(t){return t.name===e})).length,color:n.filter((function(t){return t.name===e}))[0].color}})),le(s)}),[a,a.tasks]),Object(c.useEffect)((function(){Q(a)}),[a]),Object(c.useEffect)((function(){te(!v)}),[v]),Object(c.useEffect)((function(){g(h)}),[h,g]);var _e=function(e){te(e)},Ee=function(){_("")},De=function(){K((function(e){return!e}))};Object(c.useEffect)((function(){H&&xe.current.focus()}),[H]);var Ie=function(){z(!1)};function Fe(e,t){var a=Object(b.a)(Object(b.a)({},y),{},{tableColumns:[].concat(Object(f.a)(y.tableColumns),[e]),activities:[{desc:t,userId:C._id,createdAt:Date.now()}].concat(Object(f.a)(y.activities))});u(a)}var Ue=[{icon:Object(n.jsx)(It.c,{className:"icon"}),name:"Status"},{icon:Object(n.jsx)(Le.a,{className:"icon"}),name:"Dropdown"},{icon:Object(n.jsx)(ke.f,{className:"icon"}),name:"Text"},{icon:Object(n.jsx)(ye.b,{className:"icon"}),name:"Date"},{icon:Object(n.jsx)(Le.j,{className:"icon"}),name:"People"},{icon:Object(n.jsx)(ft.d,{className:"icon"}),name:"Numbers"},{icon:Object(n.jsx)(Kt.a,{className:"icon"}),name:"Timeline"},{icon:Object(n.jsx)(ye.f,{className:"icon"}),name:"LastUpdated"},{icon:Object(n.jsx)(Ne.h,{className:"icon"}),name:"CheckBox"},{icon:Object(n.jsx)(at.a,{className:"icon"}),name:"Tags"}],Me=function(e){var t=[];if(y.tableColumns.forEach((function(e){for(var a in e)"type"===a&&t.push("".concat(e[a]))})),Object(f.a)(new Set(t)).includes(e))return"column-in-use"},We=function(e,t){return[Object(n.jsxs)("div",{onClick:function(){return function(e){switch(e){case"People":Fe({_id:Date.now(),title:"People",type:"People",taskKey:"owner"},"added new people column");break;case"Status":Fe({_id:Date.now(),title:"Status",type:"Status",taskKey:"status"},"added new status column");break;case"Date":Fe({_id:Date.now(),title:"Date",type:"Date",taskKey:"createdAt"},"added new date column");break;case"Text":Fe({_id:Date.now(),title:"Text",type:"Text",taskKey:"text"},"added new text column");break;case"Numbers":Fe({_id:Date.now(),title:"Numbers",type:"Numbers",taskKey:"numbers"},"added new numbers column");break;case"CheckBox":Fe({_id:Date.now(),title:"Check Box",type:"CheckBox",taskKey:"checkBox"},"added new checkBox column");break;case"LastUpdated":Fe({_id:Date.now(),title:"Last Updated",type:"LastUpdated",taskKey:"lastUpdated"},"added new lastUpdated column");break;case"Timeline":Fe({_id:Date.now(),title:"Timeline",type:"Timeline",taskKey:"timeline"},"added new timeline column");break;case"Dropdown":Fe({_id:Date.now(),title:"Dropdown",type:"Dropdown",taskKey:"dropdown"},"added new dropdown column")}Te(!1)}("".concat(t))},className:Me(t),children:[e,Object(n.jsx)("span",{children:"".concat("LastUpdated"===t?"Last Updated":"CheckBox"===t?"Check Box":t)})]})]};return a&&y?Object(n.jsx)(xt.a,{onDragEnd:function(e){var t=e.destination,n=e.source;if(t&&(t.index!==n.index||t.draggableId!==n.draggableId)){var c=Object(b.a)({},a.tasks[n.index]);Q((function(e){return(e=Object(b.a)({},e)).tasks.splice(n.index,1),e.tasks.splice(t.index,0,c),e}));var r='changed the tasks order inside "'.concat(X.name,'" group');d(X,r)}},children:ee?Object(n.jsxs)("div",{className:"table",children:[Object(n.jsxs)("div",{className:"title-row-wrapper",children:[Object(n.jsxs)("div",{className:"options-wrapper",tabIndex:"0",onBlur:function(){return M(!1)},children:[Object(n.jsx)("div",{className:"title-options-btn",onMouseEnter:De,onMouseLeave:De,children:Object(n.jsx)("div",{className:"TiArrowSortedDown-wrapper TiArrowSortedDown-title-wrapper ".concat(U?"active":""),style:P?{backgroundColor:"white",borderColor:"".concat(a.color)}:{backgroundColor:"".concat(a.color)},onClick:function(){return M((function(e){return!e}))},children:Object(n.jsx)(ft.a,{className:"TiArrowSortedDown-title ".concat(U?"active":""),style:P?{color:"".concat(a.color)}:{color:"white"}})})}),U&&Object(n.jsxs)("div",{className:"options-modal title-options-modal",children:[Object(n.jsxs)("div",{className:"modal-btn item-actions-btn",children:[Object(n.jsx)(Oe.c,{className:"icon"}),Object(n.jsx)("span",{children:"Rename Group-erorr"})]}),Object(n.jsxs)("div",{className:"modal-btn item-actions-btn",onClick:function(){z(!0),M(!1)},children:[Object(n.jsx)(Le.b,{className:"icon",style:{color:a.color}}),Object(n.jsx)("span",{children:"Change Group Color"})]}),Object(n.jsx)("div",{className:"delete-btn-wrapper",children:Object(n.jsxs)("div",{className:"modal-btn item-actions-btn",onClick:function(){var e,t;e=a._id,t=a.name,p(e,t),M(!1)},children:[Object(n.jsx)(Le.r,{className:"icon"}),Object(n.jsx)("span",{children:"Delete"})]})})]})]}),H&&Object(n.jsxs)("div",{className:"table-color-modal",ref:xe,tabIndex:"0",onBlur:function(){return z(!1)},children:[Object(n.jsx)("div",{className:"first-section",children:Object(n.jsx)(Le.b,{className:"group-color",style:{color:a.color}})}),Object(n.jsx)("div",{className:"second-section",children:gt.map((function(e){return Object(n.jsx)("div",{className:"color",style:{backgroundColor:"".concat(e)},onClick:function(){return function(e){var t=Object(b.a)(Object(b.a)({},a),{},{color:e});if(a.color!==e){var n='changed the group color from "'.concat(a.color,'" to "').concat(e,'"');d(t,n),z(!1)}}(e)}})}))})]}),Object(n.jsxs)("div",{className:"table-row title-row",children:[y.tableColumns.map((function(e){return Object(n.jsx)(Pt,{board:y,tableColumn:e,table:a,IoMdNotifications:r,onEditTable:d,onEditBoard:u,isOpenTableColorModal:H,closeTableColorModal:Ie,toggleExpandeTable:_e,isExpand:ee,dragHandle:O,onEditTask:l})})),Object(n.jsxs)("div",{className:"table-cell title-cell",tabIndex:"0",onBlur:function(){Te(!1)},children:[Object(n.jsx)(s,{className:"add-column-btn",onClick:function(){Te((function(e){return!e}))}}),Se&&Object(n.jsxs)("div",{className:"modal-default-style new-column-modal",children:[Object(n.jsx)("div",{className:"title",children:"Essentials"}),Object(n.jsx)("div",{className:"column-types-container",children:Ue.slice(0,6).map((function(e){return We(e.icon,e.name)}))}),Object(n.jsx)("div",{className:"title",children:"Super Useful"}),Object(n.jsx)("div",{className:"column-types-container",children:Ue.slice(6).map((function(e){return We(e.icon,e.name)}))})]})]})]})]}),a.tasks.map((function(e,c){return e.name.toLowerCase().includes(x.toLowerCase())?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(xt.c,{droppableId:"droppable-".concat(c),children:function(r,s){return Object(n.jsxs)("div",Object(b.a)(Object(b.a)({className:"task-droppable-container ".concat(s.isDraggingOver?"droppable":"")},r.droppableProps),{},{ref:r.innerRef,children:[Object(n.jsx)(xt.b,{draggableId:e._id,index:c,children:function(c,r){return Object(n.jsx)(Mt,{isDragging:r.isDragging,isDraggingOver:r.isDraggingOver,provided:c,task:e,taskKeys:t,table:a,onEditTask:l,onRemoveTask:j,onEditTable:d,board:y,onEditBoard:u,openConversationModal:m,unCheckTasks:k,updateBoard:w})}},e._id),r.placeholder]}))}})}):null})),Object(n.jsxs)("div",{className:"table-row add-row",children:[Object(n.jsxs)("div",{className:"table-cell add-cell",children:[Object(n.jsx)("div",{className:"decoration-line",style:{backgroundColor:"".concat(a.color)}}),Object(n.jsx)("input",{type:"text",placeholder:"+ Add",className:"add-new-task-input ".concat(a.tasks.length>0?"":"new-table-input"),onChange:function(e){return function(e){_(e.target.value)}(e)},value:B,onKeyUp:function(e){!function(e,t,a){if(13===e.keyCode){e.preventDefault();var n='added new task "'.concat(a,'" to group "').concat(t.name,'"');o(t,a,n),_("")}}(e,a,B)},onFocus:function(e){D(!0)},onBlur:function(e){return D(!1),void Ee()}}),A&&Object(n.jsx)("div",{className:"add-new-task-btn ".concat(B.split(" ").join("").length>0?"active":""),onMouseDown:function(){var e='added new task "'.concat(B,'" to group "').concat(a.name,'"');o(a,B,e)},children:"Add"})]}),Object(n.jsx)("div",{className:"table-cell add-cell"})]}),Object(n.jsxs)("div",{className:"table-row sum-row",children:[t.map((function(e){return function(e){var t=[];switch(e){case"status":t.push(Object(n.jsx)("div",{className:"table-cell sum-cell sum-cell-content-wrapper",children:Object(n.jsx)("div",{className:"sum-status-wrapper",children:be.map((function(e,t){return Object(n.jsx)("span",{style:{backgroundColor:"".concat(ie["".concat(e)].color),width:"".concat(ie["".concat(e)].num/ve*100,"%")},children:Object(n.jsxs)("span",{className:"label-text arrow-down status-label",children:[Object(n.jsx)("span",{children:""===e?"Empty":e}),Object(n.jsxs)("span",{children:[ie["".concat(e)].num,"/",ve]}),Object(n.jsxs)("span",{children:[Math.round(ie["".concat(e)].num/ve*100),"%"]})]})},t)}))})}));break;case"owner":t.push(Object(n.jsx)("div",{className:"table-cell sum-cell sum-cell-content-wrapper",children:ce.length>0&&Object(n.jsxs)("div",{className:"owner-container",children:[Object(n.jsx)("div",{className:"owner-avatar-wrapper",children:Object(n.jsx)("img",{src:"".concat(ce[0].avatar),alt:""})}),ce.length>1?Object(n.jsxs)("div",{className:"owners-count",children:["+",ce.length-1]}):null]})}));break;default:t.push(Object(n.jsx)("div",{className:"table-cell sum-cell ".concat(Ot(e))}))}return t}(e)})),Object(n.jsx)("div",{className:"table-cell sum-cell"})]})]},a._id):Object(n.jsx)("div",{className:"table ".concat(ee?"":"shrink"),children:Object(n.jsx)("div",{className:"title-row-wrapper",children:Object(n.jsx)("div",{className:"table-cell title-cell",style:{color:"".concat(a.color)},children:Object(n.jsxs)("div",{className:"".concat(H?"":"table-name-wrapper"),tabIndex:"0",onBlur:function(){Ie()},children:[Object(n.jsxs)("div",{className:"table-actions",children:[ee?Object(n.jsx)(Ae.i,{className:"shrink-btn",onClick:function(){return _e(!1)}}):Object(n.jsx)(Ye.b,{className:"expand-btn",onClick:function(){return _e(!0)}}),Object(n.jsx)("div",Object(b.a)(Object(b.a)({className:"drag-btn"},O.dragHandleProps),{},{children:Object(n.jsx)(he.c,{})}))]}),Object(n.jsx)("span",{children:a.name})]})})})},a._id)}):Object(n.jsx)("div",{children:"Loading...."})}function Vt(e){var t=e.checkedTasks,a=e.onUnCheckTasks,c=e.onEditBoard,r=Object(i.d)((function(e){return e.workspace.currBoard})),s=Object(i.d)((function(e){return e.user.loggedInUser}));return Object(n.jsxs)("div",{className:"multiple-actions-modal slide-top",children:[Object(n.jsx)("div",{className:"items-count-wrapper",children:t.length}),Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"middle-section",children:[Object(n.jsxs)("div",{className:"selected-items",children:[Object(n.jsxs)("div",{className:"title",children:["Item","".concat(t.length>1?"s":"")," selected"]}),Object(n.jsx)("div",{className:"dots-container",children:t.map((function(e){return Object(n.jsx)("div",{className:"dot"})}))})]}),Object(n.jsxs)("div",{className:"options-wrapper",children:[Object(n.jsxs)("div",{className:"option-btn",children:[Object(n.jsx)(at.b,{className:"icon",onClick:function(){var e=[],n=[],o=[],i=new Set;t.forEach((function(t){e.push(t._id),n.push(t.table)}));var l=n.filter((function(e){var t=i.has(e._id);return i.add(e._id),!t})),d=[];l.forEach((function(t){var a=Object(b.a)(Object(b.a)({},t),{},{tasks:t.tasks.flatMap((function(t){return e.includes(t._id)?[t,Object(b.a)(Object(b.a)({},t),{},{_id:Date.now().toString(16)+Math.random().toString(16),createdAt:Date.now(),lastUpdated:{byUser:s._id,date:(new Date).getTime()}})]:t}))});d.push(a),t.tasks.filter((function(t){return e.includes(t._id)})).forEach((function(e){var a='duplicate task "'.concat(e.name,'" inside "').concat(t.name,'"');o.push(a)}))}));var u=Object(b.a)(Object(b.a)({},r),{},{tables:r.tables.map((function(e){return d.find((function(t){return t._id===e._id}))||e}))});c(u,o),a()}}),Object(n.jsx)("div",{className:"name",children:"Duplicate"})]}),Object(n.jsxs)("div",{className:"option-btn",children:[Object(n.jsx)(Le.q,{className:"icon",onClick:function(){var e=[],n=[],s=[],o=new Set;t.forEach((function(t){e.push(t._id),n.push(t.table)}));var i=n.filter((function(e){var t=o.has(e._id);return o.add(e._id),!t})),l=[];i.forEach((function(t){var a=Object(b.a)(Object(b.a)({},t),{},{tasks:t.tasks.filter((function(t){return!e.includes(t._id)}))});l.push(a),t.tasks.filter((function(t){return e.includes(t._id)})).forEach((function(e){var a='removed task "'.concat(e.name,'" from "').concat(t.name,'"');s.push(a)}))}));var d=Object(b.a)(Object(b.a)({},r),{},{tables:r.tables.map((function(e){return l.find((function(t){return t._id===e._id}))||e}))});c(d,s),a()}}),Object(n.jsx)("div",{className:"name",children:"Delete"})]}),Object(n.jsxs)("div",{className:"option-btn opacity-for-currently-unavailable-btns",children:[Object(n.jsx)(ke.a,{className:"icon"}),Object(n.jsx)("div",{className:"name",children:"Move to"})]})]})]})}),Object(n.jsx)("div",{className:"close-btn",onClick:a,children:Object(n.jsx)(ye.a,{})})]})}var Ht,zt=a(208),Jt=a.n(zt),qt={setup:function(){Ht=Jt.a.connect("/")},terminate:function(){Ht=null},on:function(e,t){console.log("ON SOCKET EVENT"),Ht.on(e,t)},off:function(e,t){Ht.off(e,t)},emit:function(e,t){console.log("ON emit"),Ht.emit(e,t)},broadcast:function(e,t){Ht.broadcast.emit(e,t)}};var Xt=function(e){Object(T.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={board:null,isShrink:!1,unCheckTasks:!1},e.onUnCheckTasks=function(){e.setState({unCheckTasks:!0})},e.onShrink=function(t){e.setState({isShrink:t})},e.onTest=function(){qt.emit("message",{txt:"123",user:"mili"})},e.handleDragEnd=function(t){var a=t.destination,n=t.source;if(a&&(a.index!==n.index||a.draggableId!==n.draggableId)){var c=Object(b.a)({},e.props.board.tables[n.index]);e.setState({board:Object(b.a)({},e.state.board)},(function(){return e.state.board.tables.splice(n.index,1),e.state.board.tables.splice(a.index,0,c),e.state.board}));e.props.onEditBoard(e.state.board,"changed groups order")}},e}return Object(S.a)(a,[{key:"componentDidMount",value:function(){this.setState({board:this.props.board}),qt.setup(),qt.on("message",(function(e){console.log("data",e)}))}},{key:"componentDidUpdate",value:function(e){e.board!==this.props.board&&this.setState({board:this.props.board}),e.checkedTasks!==this.props.checkedTasks&&this.props.checkedTasks.length<1&&this.setState({unCheckTasks:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.board,c=t.getTaskValue,r=t.removeTable,s=t.onAddNewTask,o=t.onEditTask,i=t.onEditTable,l=t.onEditBoard,d=t.onRemoveTask,u=t.openConversationModal,j=t.search,p=t.updateBoard,m=this.props.board.tableColumns.map((function(e){return e.taskKey}));return a?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(xt.a,{onDragEnd:this.handleDragEnd,children:Object(n.jsx)(xt.c,{droppableId:a._id,children:function(t){return Object(n.jsxs)("div",Object(b.a)(Object(b.a)({className:"board-main"},t.droppableProps),{},{ref:t.innerRef,children:[a.tables.map((function(t,a){return Object(n.jsx)(xt.b,{draggableId:t._id,index:a,children:function(a,f){return Object(n.jsx)("div",Object(b.a)(Object(b.a)({className:"table-wrapper ".concat(e.state.isShrink?"shrink":""),ref:a.innerRef},a.draggableProps),{},{children:Object(n.jsx)(Gt,{isDragging:f.isDragging,dragHandle:a,taskKeys:m,table:t,getTaskValue:c,IoMdNotifications:Ne.i,HiPlusCircle:at.e,BsPlus:Le.k,onAddNewTask:s,onEditTask:o,onEditTable:i,onEditBoard:l,onRemoveTask:d,removeTable:r,openConversationModal:u,isShrink:e.state.isShrink,onShrink:e.onShrink,search:j,unCheckTasks:e.state.unCheckTasks,updateBoard:p})}))}},t._id)})),t.placeholder,e.props.checkedTasks.length>0&&Object(n.jsx)(Vt,{checkedTasks:e.props.checkedTasks,onUnCheckTasks:e.onUnCheckTasks,onEditBoard:e.props.onEditBoard})]}),a._id)}})})}):Object(n.jsx)("div",{children:"Loading...."})}}]),a}(c.Component),Yt={loadWorkspaces:We,updateWorkspace:Re,updateCurrBoard:Ge},Qt=Object(i.b)((function(e){return{workspaces:e.workspace.workspaces,board:e.workspace.currBoard,loggedInUser:e.user.loggedInUser,checkedTasks:e.workspace.checkedTasks}}),Yt)(Object(k.g)(Xt));function Zt(e){var t=e.updateWorkspace,a=e.deleteWorkspace,r=Object(i.d)((function(e){return e.workspace.currWorkspace})),s=Object(c.useState)(!1),o=Object(fe.a)(s,2),l=o[0],d=o[1],u=Object(c.useState)(!1),j=Object(fe.a)(u,2),p=j[0],m=j[1],f=Object(c.useState)(r.color),O=Object(fe.a)(f,2),h=O[0],v=O[1],g=Object(c.useState)(r.img),x=Object(fe.a)(g,2),k=x[0],w=x[1],N=Object(c.useState)(!1),C=Object(fe.a)(N,2),y=C[0],S=C[1],T=Object(c.useState)(r.name),B=Object(fe.a)(T,2),_=B[0],E=B[1],L=Object(c.useState)(!1),A=Object(fe.a)(L,2),D=A[0],I=A[1],F=Object(c.useState)(r.desc),U=Object(fe.a)(F,2),M=U[0],W=U[1],R=Object(c.useRef)(),P=Object(c.useRef)();function K(){I(!0),setTimeout((function(){P.current.focus(),P.current.select()}),0)}return Object(c.useEffect)((function(){v(r.color),w(r.img),E(r.name),W(r.desc)}),[r]),Object(n.jsxs)("div",{className:"new-workspace-board-main-wrapper",children:[Object(n.jsxs)("div",{className:"workspace-icon",style:{backgroundColor:"".concat(h)},onClick:function(){d(!0)},tabIndex:"0",onBlur:function(){if(h!==r.color||k!==r.img){var e=Object(b.a)(Object(b.a)({},r),{},{img:k,color:h});t(e)}d(!1)},children:[k,!l&&Object(n.jsxs)("div",{className:"workspace-icon-edit",children:[Object(n.jsx)("div",{children:Object(n.jsx)(Oe.c,{className:"workspace-edit-pencil"})}),Object(n.jsx)("div",{children:"Edit"})]}),l&&Object(n.jsx)("div",{className:" modal-default-style workspace-icon-modal",children:Object(n.jsx)(Qe,{updateWorkspace:t})})]}),Object(n.jsxs)("div",{className:"content-wrapper",children:[Object(n.jsxs)("div",{className:"workspace-name-container",children:[Object(n.jsx)("div",{className:"name-wrapper  ".concat(y?"updating":""),onClick:function(){S(!0),setTimeout((function(){R.current.focus(),R.current.select()}),0)},children:y?Object(n.jsx)("input",{className:"update-workspace-input",type:"text",value:_,onChange:function(e){E(e.target.value)},ref:R,onBlur:function(){if(S(!1),_!==r.name){var e=Object(b.a)(Object(b.a)({},r),{},{name:_});t(e)}},onKeyDown:function(e){"Enter"===e.key&&e.target.blur()}}):Object(n.jsx)("div",{children:_})}),Object(n.jsxs)("div",{className:"workspace-options-container",tabIndex:"0",onBlur:function(){return m(!1)},children:[Object(n.jsx)(Le.p,{className:"workspace-dots ".concat(p?"open":""),onClick:function(){return m((function(e){return!e}))}}),p&&Object(n.jsxs)("div",{className:" modal-default-style workspace-options-modal",children:[Object(n.jsxs)("div",{className:"modal-btn workspace-options-btn",onClick:function(){K(),m(!1)},children:[Object(n.jsx)(Oe.c,{className:"icon"}),Object(n.jsx)("span",{children:"Rename workspace"})]}),Object(n.jsxs)("div",{className:"modal-btn workspace-options-btn",onClick:function(){a(r._id),m(!1)},children:[Object(n.jsx)(Le.r,{className:"icon"}),Object(n.jsx)("span",{children:"Delete workspace"})]})]})]})]}),Object(n.jsx)("div",{className:"desc-wrapper ".concat(D?"updating":""),onClick:K,children:D?Object(n.jsx)("input",{className:"update-workspace-input",type:"text",value:M,onChange:function(e){W(e.target.value)},ref:P,onBlur:function(){if(I(!1),M!==r.desc){var e=Object(b.a)(Object(b.a)({},r),{},{desc:M});t(e)}},onKeyDown:function(e){"Enter"===e.key&&e.target.blur()}}):Object(n.jsx)("div",{children:M})})]})]})}function $t(e){var t=e.isNewWorkspaceCreated,a=e.onAddNewTable,r=e.onEditBoard,s=e.getTaskValue,o=e.removeTable,l=e.onAddNewTask,d=e.onEditTask,u=e.onEditTable,b=e.onRemoveTask,j=e.openConversationModal,p=e.updateWorkspace,m=e.deleteWorkspace,f=e.openActivitiesModal,O=e.updateBoard,h=Object(i.d)((function(e){return e.workspace.currWorkspace})),v=Object(c.useState)(""),g=Object(fe.a)(v,2),x=g[0],k=g[1];return Object(n.jsxs)("div",{className:"board-content-container",children:[t?Object(n.jsx)("div",{className:"new-workspace-board-header"}):Object(n.jsx)(mt,{workspace:h,onAddNewTable:a,onEditBoard:r,setSearch:k,openActivitiesModal:f}),t?Object(n.jsx)(Zt,{updateWorkspace:p,deleteWorkspace:m}):Object(n.jsx)(Qt,{isNewWorkspaceCreated:t,workspace:h,getTaskValue:s,removeTable:o,onAddNewTask:l,onEditTask:d,onEditTable:u,onEditBoard:r,onRemoveTask:b,openConversationModal:j,search:x,updateBoard:O})]})}a(573);function ea(e){var t=e.replyMsg,a=e.getUserById,c=e.conversation,r=e.currTask,s=e.onEditTask,o=e.currTable,l=Object(i.d)((function(e){return e.user.loggedInUser}));function d(e){var t={};t=e.likes.users.includes(l._id)?Object(b.a)(Object(b.a)({},r),{},{conversations:r.conversations.map((function(t){return t._id===c._id?Object(b.a)(Object(b.a)({},t),{},{replys:c.replys.map((function(t){return t._id===e._id?Object(b.a)(Object(b.a)({},t),{},{likes:{count:t.likes.count-1,users:t.likes.users.filter((function(e){return e!==l._id}))}}):t}))}):t}))}):Object(b.a)(Object(b.a)({},r),{},{conversations:r.conversations.map((function(t){return t._id===c._id?Object(b.a)(Object(b.a)({},t),{},{replys:c.replys.map((function(t){return t._id===e._id?Object(b.a)(Object(b.a)({},t),{},{likes:{count:t.likes.count+1,users:[].concat(Object(f.a)(t.likes.users),[l._id])}}):t}))}):t}))});var a='liked reply "'.concat(e.msg,'" on conversation inside task "').concat(r.name,'"');s(o,t,a)}return Object(n.jsxs)("div",{className:"reply-msg-preview",children:[Object(n.jsx)("div",{className:"user-img",style:{backgroundImage:"url(".concat(a(t.userId).avatar,")")}}),Object(n.jsxs)("div",{className:"reply-content-wrapper",children:[Object(n.jsxs)("div",{className:"reply-msg-txt",children:[Object(n.jsx)("span",{className:"user-name",children:a(t.userId).username}),Object(n.jsx)("span",{children:t.msg})]}),Object(n.jsxs)("div",{className:"reply-msg-info flex",children:[t.likes.users.includes(l._id)?Object(n.jsx)(Ae.b,{onClick:function(){return d(t)},className:"liked pointer"}):Object(n.jsx)(Ae.g,{onClick:function(){return d(t)},className:"pointer"}),t.likes.count>0&&t.likes.count]})]})]})}function ta(e){var t=e.onEditTask,a=e.currTable,r=e.currTask,s=e.conversation,o=e.getUserById,l=e.onUpdateMsgLikes,d=e.attachmentBtns,u=Object(i.d)((function(e){return e.user.loggedInUser})),j=Object(c.useState)(!1),p=Object(fe.a)(j,2),m=p[0],O=p[1],h=Object(c.useState)(""),v=Object(fe.a)(h,2),g=v[0],x=v[1],k=Object(c.useState)(!1),w=Object(fe.a)(k,2),N=w[0],C=w[1];return Object(c.useEffect)((function(){m||x("")}),[m]),Object(n.jsxs)("div",{className:"conversation-wrapper",children:[Object(n.jsxs)("div",{className:"content-wrapper",children:[Object(n.jsxs)("div",{className:"sender-details",children:[Object(n.jsx)("div",{className:"sender-img",style:{backgroundImage:"url(".concat(o(s.userId).avatar,")")}}),Object(n.jsx)("div",{className:"sender-name",children:o(s.userId).username})]}),Object(n.jsx)("div",{className:"msg",children:s.msg}),Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)(Ae.g,{onClick:function(){return l(s)},className:"pointer"}),s.likes.count>0&&s.likes.count]})]}),Object(n.jsxs)("div",{className:"btns-wrapper",children:[Object(n.jsx)("div",{className:"btn-wrapper",children:Object(n.jsxs)("div",{className:"like-btn ".concat(s.likes.users.includes(u._id)?"liked":""),onClick:function(){return l(s)},children:[s.likes.users.includes(u._id)?Object(n.jsx)(Ae.b,{}):Object(n.jsx)(Ae.g,{}),Object(n.jsx)("span",{children:"Like"})]})}),Object(n.jsx)("div",{className:"btn-wrapper",children:Object(n.jsxs)("div",{className:"reply-btn",onClick:function(){return O((function(e){return!e}))},children:[Object(n.jsx)(bt.d,{}),Object(n.jsx)("span",{children:"Reply"})]})})]}),(s.replys.length>0||m)&&Object(n.jsxs)("div",{className:"reply-wrapper ".concat(s.replys.length>0?"column-reverse":""),children:[Object(n.jsxs)("div",{className:"add-reply-textarea ".concat(!N&&s.replys.length>0?"reply-close-textarea":""),children:[Object(n.jsx)("div",{className:"user-img",style:{backgroundImage:"url(".concat(u.avatar,")")}}),Object(n.jsxs)("div",{className:"reply-msg-wrapper",children:[Object(n.jsx)("textarea",{name:"",id:"",cols:"30",rows:"".concat(!N&&s.replys.length>0?"1":"4"),className:"reply-textarea ".concat(!N&&s.replys.length>0?"reply-close-textarea":""),placeholder:"".concat(!N&&s.replys.length>0?"Write a reply...":""),value:g,onChange:function(e){return x(e.target.value)},onFocus:function(){return C(!0)},onBlur:function(){return C(!1)}}),(N||s.replys.length<1)&&Object(n.jsxs)("div",{className:"attachments-bar",children:[d.map((function(e){return Object(n.jsxs)("div",{className:"attachment-btn",children:[e.icon,Object(n.jsx)("span",{children:e.name})]})})),Object(n.jsx)("div",{className:"add-msg-btn",onMouseDown:function(){return function(e){if(!(g.trim().length<1)){var n={_id:Date.now(),userId:u._id,msg:g,files:[],img:"",likes:{count:0,users:[]},createdAt:(new Date).getTime()},c=Object(b.a)(Object(b.a)({},r),{},{conversations:r.conversations.map((function(t){return t._id===e._id?Object(b.a)(Object(b.a)({},t),{},{replys:[].concat(Object(f.a)(t.replys),[n])}):t}))}),s='replied to conversation "'.concat(e.msg,'" inside task "').concat(r.name,'"');t(a,c,s),x(""),O(!1),C(!1)}}(s)},children:"Reply"})]})]})]}),Object(n.jsx)("div",{className:"reply-msgs-list",children:s.replys.map((function(e){return Object(n.jsx)(ea,{replyMsg:e,getUserById:o,conversation:s,currTask:r,onEditTask:t,currTable:a})}))})]})]},s._id)}function aa(e){var t=e.onEditTask,a=e.isOpenConversationModal,r=Object(i.d)((function(e){return e.user.users})),s=Object(i.d)((function(e){return e.workspace.currBoard})),o=Object(i.d)((function(e){return e.workspace.conversationLocation})),l=Object(i.d)((function(e){return e.user.loggedInUser})),d=Object(c.useState)(null),u=Object(fe.a)(d,2),j=u[0],p=u[1],m=Object(c.useState)(null),O=Object(fe.a)(m,2),h=O[0],v=O[1],g=Object(c.useState)(!1),x=Object(fe.a)(g,2),k=x[0],w=x[1],N=Object(c.useState)(""),C=Object(fe.a)(N,2),y=C[0],S=C[1],T=Object(c.useRef)();function B(e){return r.filter((function(t){return t._id===e}))[0]}function _(e){if(e.likes.users.includes(l._id)){var a=Object(b.a)(Object(b.a)({},h),{},{conversations:h.conversations.map((function(t){return t._id===e._id?Object(b.a)(Object(b.a)({},e),{},{likes:{count:e.likes.count-1,users:e.likes.users.filter((function(e){return e!==l._id}))}}):t}))}),n='liked conversation "'.concat(e.msg,'" inside task "').concat(h.name,'"');t(j,a,n)}else{var c=Object(b.a)(Object(b.a)({},h),{},{conversations:h.conversations.map((function(t){return t._id===e._id?Object(b.a)(Object(b.a)({},e),{},{likes:{count:e.likes.count+1,users:[].concat(Object(f.a)(e.likes.users),[l._id])}}):t}))}),r='liked conversation "'.concat(e.msg,'" inside task "').concat(h.name,'"');t(j,c,r)}}Object(c.useEffect)((function(){o.tableId&&p(s.tables.filter((function(e){return e._id===o.tableId}))[0])}),[o.tableId,s]),Object(c.useEffect)((function(){o.taskId&&j&&v(j.tasks.filter((function(e){return e._id===o.taskId}))[0])}),[o.taskId,j]),Object(c.useEffect)((function(){a||S("")}),[a]);var E=[{icon:Object(n.jsx)(Oe.d,{}),name:"Blockquote"},{icon:Object(n.jsx)(Oe.a,{}),name:"Strong"},{icon:Object(n.jsx)(Ae.f,{}),name:"Emphasis <em></em>"},{icon:Object(n.jsx)(ye.c,{}),name:"Text color"},{icon:Object(n.jsx)(Ae.d,{}),name:"Bulleted List "},{icon:Object(n.jsx)(ye.d,{}),name:"Numbered List"},{icon:Object(n.jsx)(Le.n,{}),name:"Text left"},{icon:Object(n.jsx)(Le.o,{}),name:"Text right"}],L=[{icon:Object(n.jsx)(ft.b,{}),name:"Add files"},{icon:"",name:"GIF"},{icon:Object(n.jsx)(he.e,{}),name:"Emoji"},{icon:Object(n.jsx)(It.b,{}),name:"Mention"}];return Object(n.jsxs)("div",{className:"conversation-modal-content",children:[Object(n.jsx)("div",{className:"conversation-modal-title",children:h&&h.name}),Object(n.jsxs)("div",{className:"conversation-modal-updates",children:["Updates ",h&&h.conversations.length>0&&"/ ".concat(h.conversations.length)]}),Object(n.jsxs)("div",{className:"updates-section-content",children:[k?Object(n.jsx)("input",{type:"text",placeholder:"Write an update...",className:"conversation-input",onClick:function(){w(!0),setTimeout((function(){T&&T.current&&T.current.focus()}),0)}}):Object(n.jsxs)("div",{className:"new-msg-container",children:[Object(n.jsxs)("div",{className:"textarea-editor-wrapper",children:[Object(n.jsx)("div",{className:"buttons-bar",children:E.map((function(e){return Object(n.jsxs)("div",{className:"editor-btn",children:[e.icon,Object(n.jsx)("span",{className:"label-text arrow-up text-editor-label",children:e.name})]})}))}),Object(n.jsx)("textarea",{name:"",id:"",cols:"30",rows:"10",ref:T,onBlur:function(){return w(!1)},value:y,onChange:function(e){return S(e.target.value)}})]}),Object(n.jsxs)("div",{className:"attachments-bar",children:[L.map((function(e){return Object(n.jsxs)("div",{className:"attachment-btn",children:[e.icon,Object(n.jsx)("span",{children:e.name})]})})),Object(n.jsx)("div",{className:"add-msg-btn",onClick:function(){if(!(y.trim().length<1)){var e={_id:Date.now(),userId:l._id,msg:y,files:[],img:"",likes:{count:0,users:[]},replys:[],createdAt:(new Date).getTime()},a=Object(b.a)(Object(b.a)({},h),{},{conversations:[].concat(Object(f.a)(h.conversations),[e])}),n='added new conversation to task "'.concat(a.name,'" inside "').concat(j.name,'"');t(j,a,n),S("")}},children:"Update"})]})]}),Object(n.jsx)("div",{className:"updates-list",children:h&&h.conversations.length>0?Object(n.jsx)(n.Fragment,{children:h.conversations.map((function(e){return Object(n.jsx)(ta,{conversation:e,getUserById:B,onUpdateMsgLikes:_,attachmentBtns:L,onEditTask:t,currTable:j,currTask:h},e._id)}))}):Object(n.jsx)("span",{className:"no-updates",children:"No updates yet..."})})]})]})}function na(){var e=Object(i.d)((function(e){return e.workspace.currBoard})),t=Object(i.d)((function(e){return e.user.users}));function a(e){return t.filter((function(t){return t._id===e}))[0]}function c(e){var t=Ut()(e).fromNow();switch(!0){case t.includes("a few seconds ago"):return"now";case t.includes("a minute ago"):return t.replace("a minute ago","1m");case t.includes("minutes"):return t.replace(" minutes ago","m");case t.includes("an hour ago"):return t.replace("an hour ago","1h");case t.includes("hours"):return t.replace(" hours ago","h");case t.includes("a day ago"):return t.replace("a day ago","1d");case t.includes("days"):return t.replace(" days ago","d");case t.includes("a month ago"):return t.replace("a month ago","1M");case t.includes("months"):return t.replace(" months ago","M");default:return t}}return Object(n.jsxs)("div",{className:"activities-container",children:[Object(n.jsxs)("div",{className:"title",children:[Object(n.jsx)("span",{children:e.name})," Log"]}),e.activities.length>0?Object(n.jsx)("table",{className:"activities-list",children:e.activities.map((function(e){return Object(n.jsxs)("tr",{className:"activity-preview",children:[Object(n.jsxs)("td",{className:"time",children:[Object(n.jsx)(Ae.e,{}),Object(n.jsx)("span",{children:c(e.createdAt)})]}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{className:"user background",style:{backgroundImage:"url(".concat(a(e.userId).avatar,")")}})}),Object(n.jsxs)("td",{className:"desc",children:[Object(n.jsx)("span",{className:"username",children:a(e.userId).username})," ",Object(n.jsx)("span",{children:e.desc})]})]})}))}):Object(n.jsx)("div",{children:"No activities"})]})}var ca={getById:function(e,t){return e.filter((function(e){return e.folders.filter((function(e){return e._id===t}))}))[0]},update:function(e,t){return t.map((function(t){return t.folders.map((function(t){return t._id===e._id?e:t}))})),t}};var ra=a(209),sa=function(e){Object(T.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={isToolbarMenuClose:!1,workspace:null,isFolderOpen:!1,board:null,folder:null,task:{},isOpenConversationModal:!1,isOpenActivitiesModal:!1,isShowModal:!1,isNewFolderCreated:!1,isNewWorkspaceCreated:!1,toolbarActiveBtn:""},e.focusText=function(){setTimeout((function(){document.execCommand("selectAll",!1,null)}),0)},e.onEndNewFolderUpdating=function(){e.setState({isNewFolderCreated:!1})},e.onToggleToolbarMenu=function(){e.setState({isToolbarMenuClose:!e.state.isToolbarMenuClose})},e.onGettingCurrentWorkspace=function(t){e.setState({workspace:t},(function(){e.props.updateCurrWorkspace(t),e.setState({isNewWorkspaceCreated:!1})}))},e.isBoardInsideFolder=e.props.match.url.split("/").includes("folders"),e.getCurrFolder=function(){if(e.props.match.url.split("/").includes("folders")){var t=e.props.match.url.split("/")[4];return ca.getById(e.props.workspaces,t)}},e.getCurrBoard=function(){if(e.props.match.url.split("/").includes("folders")){var t=e.props.match.url.split("/")[4],a=ca.getById(e.props.workspaces,t),n=e.props.match.params.id,c=ct.getById(e.props.workspaces,n,a);c&&e.setState({board:c},(function(){e.props.history.push("/boards/".concat(c._id))}))}else{var r=e.props.match.params.id,s=ct.getById(e.props.workspaces,r,null);s&&e.setState({board:s},(function(){e.props.history.push("/boards/".concat(s._id))}))}},e.onToggleFolder=function(t){e.setState({isFolderOpen:!e.state.isFolderOpen})},e.onGettingCurrentBoard=function(){var t=Object(C.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({board:a},(function(){e.props.history.push("/boards/".concat(a._id))})),t.next=3,e.props.updateCurrBoard(a);case 3:e.setState({isNewWorkspaceCreated:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onEditBoard=function(t,a){var n={},c=[];a?"string"!==typeof a?(a.forEach((function(t){c.unshift({desc:t,userId:e.props.loggedInUser._id,createdAt:Date.now()})})),n=Object(b.a)(Object(b.a)({},t),{},{activities:[].concat(c,Object(f.a)(t.activities))})):n=Object(b.a)(Object(b.a)({},t),{},{activities:[{desc:a,userId:e.props.loggedInUser._id,createdAt:Date.now()}].concat(Object(f.a)(t.activities))}):n=Object(b.a)({},t),e.updateBoard(n)},e.onAddNewTable=function(){var t=ct.addTable(e.state.board),a=Object(b.a)(Object(b.a)({},t),{},{activities:[{desc:"added a new group",userId:e.props.loggedInUser._id,createdAt:Date.now()}].concat(Object(f.a)(t.activities))});e.updateBoard(a)},e.onEditTable=function(t,a){var n=ct.updateTable(e.state.board,t),c=Object(b.a)(Object(b.a)({},n),{},{activities:[{desc:a,userId:e.props.loggedInUser._id,createdAt:Date.now()}].concat(Object(f.a)(n.activities))});e.updateBoard(c)},e.removeTable=function(t,a){var n='removed group "'.concat(a,'" from "').concat(e.state.board.name,'"'),c=ct.removeTable(t,e.state.board),r=Object(b.a)(Object(b.a)({},c),{},{activities:[{desc:n,userId:e.props.loggedInUser._id,createdAt:Date.now()}].concat(Object(f.a)(c.activities))});e.updateBoard(r)},e.onAddNewTask=function(t,a,n){if(a.split(" ").join("")){var c=ct.addTask(t,e.state.board,a,e.props.loggedInUser),r=Object(b.a)(Object(b.a)({},c),{},{activities:[{desc:n,userId:e.props.loggedInUser._id,createdAt:Date.now()}].concat(Object(f.a)(c.activities))});e.updateBoard(r)}},e.onEditTask=function(t,a,n){var c=ct.updateTask(t,e.state.board,a,e.props.loggedInUser),r=Object(b.a)(Object(b.a)({},c),{},{activities:[{desc:n,userId:e.props.loggedInUser._id,createdAt:Date.now()}].concat(Object(f.a)(c.activities))});e.updateBoard(r)},e.onRemoveTask=function(t,a){var n=ct.removeTask(t,a,e.state.board);e.updateBoard(n)},e.editBoard=function(t){e.updateBoard(t)},e.moveFolder=function(t,a){e.removeFolder(a._id);var n=Object(b.a)(Object(b.a)({},t),{},{folders:[].concat(Object(f.a)(t.folders),[a])});e.props.updateWorkspace(n)},e.moveBoard=function(t,a){if(e.state.workspace._id===t._id){var n=ct.removeBoard(e.state.workspace,a._id),c=Object(b.a)(Object(b.a)({},n),{},{boards:[].concat(Object(f.a)(n.boards),[a])});e.setState({workspace:c},(function(){e.props.updateCurrWorkspace(c)})),e.props.updateWorkspace(c)}else{e.removeBoard(a._id);var r=Object(b.a)(Object(b.a)({},t),{},{boards:[].concat(Object(f.a)(t.boards),[a])});e.props.updateWorkspace(r)}},e.moveBoardToFolder=function(t,a,n){var c=ct.removeBoard(e.state.workspace,n._id);e.setState({workspace:c},(function(){e.props.updateWorkspace(c),e.props.updateCurrWorkspace(c)}));var r=Object(b.a)(Object(b.a)({},a),{},{boards:[].concat(Object(f.a)(a.boards),[n])});if(c._id===t._id){var s=ct.updateFolder(c,r);s._id===e.state.workspace._id&&e.setState({workspace:s},(function(){e.props.updateCurrWorkspace(s)})),e.props.updateWorkspace(s)}else{var o=ct.updateFolder(t,r);o._id===e.state.workspace._id&&e.setState({workspace:o},(function(){e.props.updateCurrWorkspace(o)})),e.props.updateWorkspace(o)}},e.removeBoard=function(t){var a=ct.removeBoard(e.state.workspace,t);e.setState({workspace:a},(function(){e.props.updateWorkspace(a),e.props.updateCurrWorkspace(a)}))},e.addNewBoard=function(t){var a=ct.addBoard(e.state.workspace,t);e.setState({workspace:a},(function(){e.props.updateWorkspace(a),e.props.updateCurrWorkspace(a)}))},e.addNewWorkspace=function(t,a,n){var c={name:t,isMain:!1,desc:"description about the workspace",img:n,color:a,owner:e.state.loggedInUser,folders:[],boards:[]};e.props.addWorkspace(c).then((function(t){return e.setState({workspace:t},(function(){e.setState({isNewWorkspaceCreated:!0});var a=Object(b.a)(Object(b.a)({},e.props.loggedInUser),{},{pinnedWorkspaces:[].concat(Object(f.a)(e.props.loggedInUser.pinnedWorkspaces),[t._id])});e.props.updateUser(a)}))}))},e.updateWorkspace=function(t){e.props.updateWorkspace(t),e.setState({workspace:t},(function(){e.props.updateCurrWorkspace(t)}))},e.deleteWorkspace=function(t){e.props.removeWorkspace(t),e.props.workspaces.map((function(t){return t.boards.map((function(a){return!0===a.isLastSeen?e.setState({workspace:t},(function(){e.props.updateCurrWorkspace(t)})):null}))}))},e.addBoardInFolder=function(t,a){var n=ct.addBoardInFolder(e.state.workspace,t,a);e.setState({workspace:n},(function(){e.props.updateWorkspace(n),e.props.updateCurrWorkspace(n)}))},e.addNewFloder=function(){var t=ct.addFolder(e.state.workspace);e.setState({workspace:t},(function(){e.props.updateWorkspace(t),e.props.updateCurrWorkspace(t),e.setState({isNewFolderCreated:!0})}))},e.removeFolder=function(t){var a=ct.removeFolder(e.state.workspace,t);e.setState({workspace:a},(function(){e.props.updateWorkspace(a),e.props.updateCurrWorkspace(a)}))},e.updateFolder=function(t){var a=ct.updateFolder(e.state.workspace,t);e.setState({workspace:a},(function(){e.props.updateWorkspace(a),e.props.updateCurrWorkspace(a)}))},e.openConversationModal=function(){e.setState({isShowModal:!0}),e.setState({isOpenConversationModal:!0})},e.openActivitiesModal=function(){e.setState({isShowModal:!0}),e.setState({isOpenActivitiesModal:!0})},e.onManageWorkspace=function(){e.setState({isNewWorkspaceCreated:!0})},e.onSetToolbarMenu=function(t){e.setState({toolbarActiveBtn:t})},e}return Object(S.a)(a,[{key:"componentDidMount",value:function(){var e=Object(C.a)(N.a.mark((function e(){var t=this;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadWorkspaces();case 2:return this.editableName=r.a.createRef(),e.next=5,this.props.workspaces.map((function(e){return e.boards.map((function(a){return!0===a.isLastSeen?t.setState({board:a},(function(){t.props.history.push("/boards/".concat(a._id)),t.props.updateCurrBoard(a),t.setState({workspace:e}),t.props.updateCurrWorkspace(e)})):null}))}))[0];case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateBoard",value:function(e){var t=this;this.setState({board:e},(function(){t.props.updateCurrBoard(e);var a=t.state.workspace,n={isBoardInsideFolder:!1,cuurFolde:null};a.folders.map((function(t){return t.boards.map((function(a){return a._id===e._id?n=Object(b.a)(Object(b.a)({},n),{},{isBoardInsideFolder:!0,cuurFolde:t}):null}))})),n.isBoardInsideFolder?a=Object(b.a)(Object(b.a)({},t.state.workspace),{},{folders:t.state.workspace.folders.map((function(t){return t._id===n.cuurFolde._id?Object(b.a)(Object(b.a)({},t),{},{boards:t.boards.map((function(t){return t._id===e._id?e:t}))}):t}))}):a.boards=a.boards.map((function(t){return t._id===e._id?e:t})),t.props.updateCurrWorkspace(a),t.setState({workspace:a},(function(){t.props.updateWorkspace(a)}))}))}},{key:"render",value:function(){var e=this,t=this.props.workspaces,a=this.state,c=a.workspace,r=a.board,s=a.isNewWorkspaceCreated;return t&&r&&c?Object(n.jsxs)("div",{className:"board-page-container",children:[Object(n.jsx)(Ee,{BsLightning:Le.g,BsStar:Le.m,BsThreeDots:Le.p,onGettingCurrentWorkspace:this.onGettingCurrentWorkspace,addNewWorkspace:this.addNewWorkspace,onSetToolbarMenu:this.onSetToolbarMenu}),Object(n.jsx)(ot,{isToolbarMenuClose:this.state.isToolbarMenuClose,onToggleToolbarMenu:this.onToggleToolbarMenu,IoIosArrowForward:Ne.d,IoIosArrowBack:Ne.b,workspace:c,onToggleFolder:this.onToggleFolder,isFolderOpen:this.state.isFolderOpen,IoMdArrowDropdown:Ne.f,CgViewComfortable:Ye.c,onGettingCurrentBoard:this.onGettingCurrentBoard,onGettingCurrentBoardInWorkspace:this.onGettingCurrentBoardInWorkspace,addNewBoard:this.addNewBoard,addNewFloder:this.addNewFloder,addBoardInFolder:this.addBoardInFolder,removeFolder:this.removeFolder,updateFolder:this.updateFolder,removeBoard:this.removeBoard,editBoard:this.editBoard,moveFolder:this.moveFolder,moveBoard:this.moveBoard,moveBoardToFolder:this.moveBoardToFolder,isNewFolderCreated:this.state.isNewFolderCreated,onEndNewFolderUpdating:this.onEndNewFolderUpdating,updateWorkspace:this.updateWorkspace,deleteWorkspace:this.deleteWorkspace,onGettingCurrentWorkspace:this.onGettingCurrentWorkspace,onManageWorkspace:this.onManageWorkspace,toolbarActiveBtn:this.state.toolbarActiveBtn,onEditBoard:this.onEditBoard}),Object(n.jsx)($t,{isNewWorkspaceCreated:s,onAddNewTable:this.onAddNewTable,onEditBoard:this.onEditBoard,getTaskValue:this.getTaskValue,removeTable:this.removeTable,onAddNewTask:this.onAddNewTask,onEditTask:this.onEditTask,onEditTable:this.onEditTable,onRemoveTask:this.onRemoveTask,openConversationModal:this.openConversationModal,updateWorkspace:this.updateWorkspace,deleteWorkspace:this.deleteWorkspace,openActivitiesModal:this.openActivitiesModal,updateBoard:this.updateBoard}),Object(n.jsx)("div",{className:"conversation-modal-wrapper ".concat(this.state.isShowModal?"":"hide"),children:Object(n.jsxs)("div",{className:"conversation-modal ".concat(this.state.isShowModal?" slide-left":"slide-right"),children:[Object(n.jsx)(ra.a,{className:"conversation-close-btn",onClick:function(){e.setState({isShowModal:!1},(function(){e.setState({isOpenConversationModal:!1}),e.setState({isOpenActivitiesModal:!1})}))}}),this.state.isOpenActivitiesModal&&Object(n.jsx)(na,{}),this.state.isOpenConversationModal&&Object(n.jsx)(aa,{isOpenConversationModal:this.state.isOpenConversationModal,onEditTask:this.onEditTask})]})})]}):Object(n.jsx)("div",{children:"Loading...."})}}]),a}(c.Component),oa={loadWorkspaces:We,updateWorkspace:Re,updateCurrWorkspace:Pe,getCurrBoard:function(e){return function(){var t=Object(C.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:"SET_BOARD",board:e})}catch(n){console.log("WorkspaceActions: err in SET_BOARD",n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateCurrBoard:Ge,addWorkspace:function(e){return function(){var t=Object(C.a)(N.a.mark((function t(a){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,De.add(e);case 3:return n=t.sent,a({type:"ADD_WORKSPACE",workspace:n}),t.abrupt("return",n);case 8:t.prev=8,t.t0=t.catch(0),console.log("WorkspaceActions: err in addWorkspace",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},removeWorkspace:function(e){return function(){var t=Object(C.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,De.remove(e);case 3:a({type:"REMOVE_WORKSPACE",workspaceId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("WorkspaceActions: err in removeWorkspace",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},updateUser:$},ia=Object(i.b)((function(e){return{workspaces:e.workspace.workspaces,workspace:e.workspace.currWorkspace,board:e.workspace.currBoard,loggedInUser:e.user.loggedInUser}}),oa)(sa),la={uploadImg:function(e){return da.apply(this,arguments)}};function da(){return(da=Object(C.a)(N.a.mark((function e(t){var a,n,c,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"dzvebcsrp",a="https://api.cloudinary.com/v1_1/".concat("dzvebcsrp","/image/upload"),(n=new FormData).append("file",t.target.files[0]),n.append("upload_preset","mister_toy"),e.prev=5,e.next=8,fetch(a,{method:"POST",body:n});case 8:return c=e.sent,e.next=11,c.json();case 11:return r=e.sent,e.abrupt("return",r);case 15:e.prev=15,e.t0=e.catch(5),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}function ua(e){var t=e.itemName,a=Object(i.d)((function(e){return e.user.loggedInUser})),r=Object(c.useState)("logo"===t?"https://res.cloudinary.com/dzvebcsrp/image/upload/v1616327732/logo_xw7dyu.ico":a.avatar),s=Object(fe.a)(r,2),o=s[0],l=s[1],d=Object(i.c)();Object(c.useEffect)((function(){"logo"===t&&a&&a.logoImg&&l(a.logoImg),"user"===t&&a&&a.avatar&&l(a.avatar)}),[a,t]);var u=function(){var e=Object(C.a)(N.a.mark((function e(n){var c,r,s,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,la.uploadImg(n);case 3:c=e.sent,(r=c.secure_url)&&(l(r),"logo"===t&&(s=Object(b.a)(Object(b.a)({},a),{},{logoImg:r}),d($(s))),"user"===t&&(o=Object(b.a)(Object(b.a)({},a),{},{avatar:r}),d($(o))));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("form",{children:Object(n.jsxs)("label",{children:[Object(n.jsx)("input",{onChange:u,type:"file"}),Object(n.jsx)("div",{style:{backgroundImage:"url(".concat(o,")")},children:"user"===t&&Object(n.jsxs)("div",{className:"before",children:[Object(n.jsx)(ut.b,{className:"update-img-icon"}),Object(n.jsx)("div",{className:"text",children:"Change profile picture"})]})})]})})}var ba=[{path:"/",component:pe},{path:"/about",component:me},{path:"/boards",component:ia},{path:"/boards/:id",component:ia},{path:"/users/:id",component:function(){var e=Object(i.d)((function(e){return e.user.loggedInUser})),t=Object(c.useState)(e.username),a=Object(fe.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)(!1),l=Object(fe.a)(o,2),d=l[0],u=l[1],j=Object(i.c)(),p=Object(c.useRef)();Object(c.useEffect)((function(){s(e.username)}),[e]);var m=[Object(n.jsx)(bt.e,{className:"icon"}),Object(n.jsx)(at.c,{className:"icon"}),Object(n.jsx)(bt.c,{className:"icon"}),Object(n.jsx)(Ae.c,{className:"icon"}),Object(n.jsx)(ke.d,{className:"icon"}),Object(n.jsx)(he.f,{className:"icon"}),Object(n.jsx)(Ae.a,{className:"icon"}),Object(n.jsx)(he.a,{className:"icon"})],f=["Professional Engineer of something","".concat(e.email),"Add a phone number","Add a Skype number","Dallas, TX","Jerusalem","Every day \ud83c\udf89","Add a work anniversary"];return Object(n.jsxs)("div",{className:"user-details",children:[Object(n.jsxs)("div",{className:"details-header",children:[Object(n.jsx)("div",{className:"upload-img-wrapper",children:Object(n.jsx)(ua,{itemName:"user"})}),Object(n.jsx)("div",{className:"updating-user-name-wrapper",children:d?Object(n.jsx)("input",{className:"update-name",ref:p,type:"text",value:r,onChange:function(e){return s(e.target.value)},onBlur:function(){!function(){if(e.username!==r){var t=Object(b.a)(Object(b.a)({},e),{},{username:r});j($(t))}}(),u(!1)},onKeyDown:function(e){"Enter"===e.key&&e.target.blur()}}):Object(n.jsxs)("div",{className:"user-name",onClick:function(){u(!0),setTimeout((function(){p&&p.current&&p.current.focus()}),0)},children:[Object(n.jsx)("div",{children:r}),Object(n.jsx)(Le.h,{className:"BsPencil"}),Object(n.jsx)("span",{className:"label-text edit-name",children:"Edit name"})]})}),Object(n.jsx)("div",{className:"header-navigation",children:["Personal Info","Working Status","Password","Preferences","Notifications","Email Integration","Sessions"].map((function(e){return Object(n.jsx)("div",{className:"title",children:e})}))})]}),Object(n.jsx)("div",{className:"details-main",children:Object(n.jsxs)("div",{className:"details-main-content-wrapper",children:[Object(n.jsx)("div",{className:"title",children:"Overview"}),["Title","Email","Phone","Skype","Location","Timezone","Birthday","Work Anniversary"].map((function(e,t){return Object(n.jsxs)("div",{className:"overview-row-container",children:[Object(n.jsx)("div",{className:"icon-wrapper",children:m[t]}),Object(n.jsxs)("div",{className:"user-info-wrapper",children:[Object(n.jsxs)("div",{children:[e,":"]}),Object(n.jsx)("div",{children:f[t]})]})]})}))]})})]})}}];function ja(){var e=Object(c.useState)(!1),t=Object(fe.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(null),o=Object(fe.a)(s,2),d=o[0],u=o[1],b=Object(i.d)((function(e){return e.user.loggedInUser})),j=Object(i.c)(),p=Object(k.f)();return Object(c.useEffect)((function(){setTimeout((function(){window.location.hash.includes("boards")&&u("workspaces")}),0)}),[]),Object(n.jsxs)("div",{className:"navbar-section",children:[Object(n.jsxs)("div",{className:"navbar-first-area",children:[Object(n.jsx)("div",{className:"logo upload-img-wrapper",children:Object(n.jsx)(ua,{itemName:"logo"})}),Object(n.jsx)(l.b,{to:"/boards",children:Object(n.jsxs)("div",{className:"icon-wrapper ".concat("workspaces"===d?"selected":""),onClick:function(){u("workspaces")},children:[Object(n.jsx)(Le.f,{className:"navbar-icon"}),Object(n.jsx)("span",{className:"label-text",children:"Wrokspaces"})]})}),Object(n.jsxs)("div",{className:"icon-wrapper ".concat("notifications"===d?"selected":""),onClick:function(){u("notifications")},children:[Object(n.jsx)(Ne.j,{className:"navbar-icon"}),Object(n.jsx)("span",{className:"label-text",children:"Notifications"})]}),Object(n.jsxs)("div",{className:"icon-wrapper ".concat("downloads"===d?"selected":""),onClick:function(){u("downloads")},children:[Object(n.jsxs)("svg",{width:"22",height:"22",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsxs)("g",{clipPath:"url(#a)",children:[Object(n.jsx)("path",{d:"M11.443 6.365L8.071 9.739m0 0L4.699 6.366M8.07 9.738V.667",stroke:"rgb(233, 233, 233)",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M4.95 11.333l.554-.23a.6.6 0 0 0-.554-.37v.6zm6.1 0v-.6a.6.6 0 0 0-.554.37l.554.23zm-6.1-.6H1.199v1.2h3.75v-1.2zm-3.751 0a1.13 1.13 0 0 0-1.132 1.133h1.2a.07.07 0 0 1-.068.067v-1.2zM.067 11.866v3.145h1.2v-3.145h-1.2zm0 3.145a1.13 1.13 0 0 0 1.132 1.132v-1.2a.07.07 0 0 1 .068.068h-1.2zm1.132 1.132H14.8v-1.2H1.199v1.2zm13.602 0a1.13 1.13 0 0 0 1.132-1.132h-1.2a.07.07 0 0 1 .068-.068v1.2zm1.132-1.132v-3.145h-1.2v3.145h1.2zm0-3.145a1.13 1.13 0 0 0-1.132-1.133v1.2a.07.07 0 0 1-.068-.067h1.2zm-1.132-1.133H11.05v1.2H14.8v-1.2zm-4.305.37c-.408.98-1.349 1.63-2.496 1.63v1.2c1.627 0 3.008-.938 3.604-2.369l-1.108-.461zM8 12.733c-1.147 0-2.089-.65-2.496-1.63l-1.108.461c.596 1.431 1.976 2.37 3.604 2.37v-1.2z",fill:"rgb(233, 233, 233)"})]}),Object(n.jsx)("defs",{children:Object(n.jsx)("clipPath",{id:"a",children:Object(n.jsx)("path",{fill:"#fff",d:"M0 0h16v16H0z"})})})]}),Object(n.jsx)("span",{className:"label-text",children:"text text text"})]})]}),Object(n.jsxs)("div",{className:"navbar-second-area",children:[Object(n.jsxs)("div",{className:"icon-wrapper ".concat("my week"===d?"selected":""),onClick:function(){u("my week")},children:[Object(n.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M177.23 32.224V7.16a7.16 7.16 0 0 1 14.322 0v25.063h41.175c12.849 0 23.273 10.424 23.273 23.273v80.559a7.16 7.16 0 0 1-14.322 0V94.88H14.322v137.846c0 4.94 4.012 8.951 8.95 8.951h96.672a7.16 7.16 0 0 1 0 14.322H23.273C10.424 256 0 245.576 0 232.727V55.497c0-12.85 10.424-23.273 23.273-23.273h41.175V7.16a7.16 7.16 0 0 1 14.321 0v25.063h98.462zm64.448 48.335V55.497c0-4.94-4.012-8.952-8.95-8.952H23.272c-4.94 0-8.951 4.013-8.951 8.952v25.062h227.356zm2.098 98.77a7.16 7.16 0 0 1 10.127 10.126l-64.448 64.448a7.16 7.16 0 0 1-10.127 0l-32.224-32.224a7.16 7.16 0 0 1 10.127-10.127l27.16 27.16 59.385-59.384z",fill:"rgb(233, 233, 233)",fillRule:"nonzero"})}),Object(n.jsx)("span",{className:"label-text",children:"My Week"})]}),Object(n.jsxs)("div",{className:"icon-wrapper ".concat("add user"===d?"selected":""),onClick:function(){u("add user")},children:[Object(n.jsx)(Ae.k,{className:"navbar-icon"}),Object(n.jsx)("span",{className:"label-text",children:"text text text"})]}),Object(n.jsxs)("div",{className:"icon-wrapper ".concat("search"===d?"selected":""),onClick:function(){u("search")},children:[Object(n.jsx)(Ne.e,{className:"navbar-icon"}),Object(n.jsx)("span",{className:"label-text",children:"text text text"})]}),Object(n.jsxs)("div",{className:"icon-wrapper ".concat("help"===d?"selected":""),onClick:function(){u("help")},children:[Object(n.jsx)("svg",{stroke:"rgb(233, 233, 233)",width:"22",height:"22",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",className:"icon",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{fill:"none",stroke:"rgb(233, 233, 233)",strokeWidth:"2",d:"M12,23 C12.5522847,23 13,22.5522847 13,22 C13,21.4477153 12.5522847,21 12,21 C11.4477153,21 11,21.4477153 11,22 C11,22.5522847 11.4477153,23 12,23 Z M12,18 L12,15 C12,13 13,13 15,12 C17,11 18,9.15767339 18,7 C18,3.6862915 15.3137085,1 12,1 C8.6862915,1 6,3.6862915 6,7"})}),Object(n.jsx)("span",{className:"label-text",children:"text text text"})]}),Object(n.jsxs)("div",{className:"avatar-image-wrapper",tabIndex:"0",onBlur:function(){r(!1)},children:[Object(n.jsx)("div",{className:"avatar-image-border",onClick:function(){r((function(e){return!e}))},children:b&&Object(n.jsx)("div",{className:"user-avatar",style:{backgroundImage:"url(".concat(b.avatar,")")}})}),a&&Object(n.jsxs)("div",{className:"modal-default-style user-modal-wrapper",children:[Object(n.jsxs)("div",{className:"modal-btn",onClick:function(){p.push("/users/".concat(b._id)),u(null),r(!1)},children:[Object(n.jsx)(Oe.g,{}),Object(n.jsx)("span",{children:"Update Profile"})]}),Object(n.jsxs)("div",{className:"modal-btn",onClick:function(){j(Q()),window.location.assign("/")},children:[Object(n.jsx)(et.b,{}),Object(n.jsx)("span",{children:"Logout"})]})]})]})]})]})}function pa(){var e=Object(i.d)((function(e){return e.user.loggedInUser}));return Object(n.jsxs)("div",{className:"App",children:[e&&Object(n.jsx)(ja,{}),Object(n.jsx)(k.c,{children:ba.map((function(e){return Object(n.jsx)(k.a,{exact:!0,component:e.component,path:e.path},e.path)}))})]})}a(574);var ma=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,577)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(i.a,{store:x,children:Object(n.jsx)(l.a,{children:Object(n.jsx)(pa,{})})})}),document.getElementById("root")),ma()}},[[575,1,2]]]);
//# sourceMappingURL=main.89163285.chunk.js.map